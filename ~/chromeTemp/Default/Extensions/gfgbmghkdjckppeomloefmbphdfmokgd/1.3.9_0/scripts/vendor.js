!function(t){var e;!function(t){"undefined"!=typeof module&&module.exports?module.exports=t:"function"==typeof define?define(t):e=t}(function(){function t(t,e){return RegExp.prototype.test.call(t,e)}function e(e){return!t(g,e)}function n(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function r(t){this.string=t,this.tail=t,this.pos=0}function i(t,e){this.view=t,this.parent=e,this.clearCache()}function o(){this.clearCache()}function a(t){for(var e,n=t[3],r=n;(e=t[4])&&e.length;)r=(t=e[e.length-1])[3];return[n,r]}function c(t){function e(t,e,r){if(!n[t]){var i=c(e);n[t]=function(t,e){return i(t,e,r)}}return n[t]}var n={};return function(n,r,i){for(var o,c,s="",l=0,u=t.length;l<u;++l)switch((o=t[l])[0]){case"#":c=i.slice.apply(i,a(o)),s+=n._section(o[1],r,c,e(l,o[4],i));break;case"^":s+=n._inverted(o[1],r,e(l,o[4],i));break;case">":s+=n._partial(o[1],r);break;case"&":s+=n._name(o[1],r);break;case"name":s+=n._escaped(o[1],r);break;case"text":s+=o[1]}return s}}function s(t){for(var e,n,r=[],i=r,o=[],a=0;a<t.length;++a)switch((e=t[a])[0]){case"#":case"^":e[4]=[],o.push(e),i.push(e),i=e[4];break;case"/":if(0===o.length)throw new Error("Unopened section: "+e[1]);if((n=o.pop())[1]!==e[1])throw new Error("Unclosed section: "+n[1]);i=o.length>0?o[o.length-1][4]:r;break;default:i.push(e)}if(n=o.pop())throw new Error("Unclosed section: "+n[1]);return r}function l(t){for(var e,n,r=0;r<t.length;++r)e=t[r],n&&"text"===n[0]&&"text"===e[0]?(n[1]+=e[1],n[3]=e[3],t.splice(r--,1)):n=e}function u(t){if(2!==t.length)throw new Error("Invalid tags: "+t.join(" "));return[new RegExp(n(t[0])+"\\s*"),new RegExp("\\s*"+n(t[1]))]}var p={};p.name="mustache.js",p.version="0.7.0",p.tags=["{{","}}"],p.Scanner=r,p.Context=i,p.Writer=o;var h=/\s*/,f=/\s+/,g=/\S/,v=/\s*=/,d=/\s*\}/,w=/#|\^|\/|>|\{|&|=|!/,y=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},m={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};p.escape=function(t){return String(t).replace(/[&<>"'\/]/g,function(t){return m[t]})},r.prototype.eos=function(){return""===this.tail},r.prototype.scan=function(t){var e=this.tail.match(t);return e&&0===e.index?(this.tail=this.tail.substring(e[0].length),this.pos+=e[0].length,e[0]):""},r.prototype.scanUntil=function(t){var e,n=this.tail.search(t);switch(n){case-1:e=this.tail,this.pos+=this.tail.length,this.tail="";break;case 0:e="";break;default:e=this.tail.substring(0,n),this.tail=this.tail.substring(n),this.pos+=n}return e},i.make=function(t){return t instanceof i?t:new i(t)},i.prototype.clearCache=function(){this._cache={}},i.prototype.push=function(t){return new i(t,this)},i.prototype.lookup=function(t){var e=this._cache[t];if(!e){if("."===t)e=this.view;else for(var n=this;n;){if(t.indexOf(".")>0){var r=t.split("."),i=0;for(e=n.view;e&&i<r.length;)e=e[r[i++]]}else e=n.view[t];if(null!=e)break;n=n.parent}this._cache[t]=e}return"function"==typeof e&&(e=e.call(this.view)),e},o.prototype.clearCache=function(){this._cache={},this._partialCache={}},o.prototype.compile=function(t,e){return this._compile(this._cache,t,t,e)},o.prototype.compilePartial=function(t,e,n){return this._compile(this._partialCache,t,e,n)},o.prototype.render=function(t,e,n){return this.compile(t)(e,n)},o.prototype._compile=function(t,e,n,r){if(!t[e]){var o=c(p.parse(n,r)),a=this;t[e]=function(t,e){if(e)if("function"==typeof e)a._loadPartial=e;else for(var r in e)a.compilePartial(r,e[r]);return o(a,i.make(t),n)}}return t[e]},o.prototype._section=function(t,e,n,r){var i=e.lookup(t);switch(typeof i){case"object":if(y(i)){for(var o="",a=0,c=i.length;a<c;++a)o+=r(this,e.push(i[a]));return o}return i?r(this,e.push(i)):"";case"function":var s=this;return i.call(e.view,n,function(t){return s.render(t,e)})||"";default:if(i)return r(this,e)}return""},o.prototype._inverted=function(t,e,n){var r=e.lookup(t);return!r||y(r)&&0===r.length?n(this,e):""},o.prototype._partial=function(t,e){t in this._partialCache||!this._loadPartial||this.compilePartial(t,this._loadPartial(t));var n=this._partialCache[t];return n?n(e):""},o.prototype._name=function(t,e){var n=e.lookup(t);return"function"==typeof n&&(n=n.call(e.view)),null==n?"":String(n)},o.prototype._escaped=function(t,e){return p.escape(this._name(t,e))},p.parse=function(t,i){for(var o,a,c,g,y=u(i=i||p.tags),m=new r(t),_=[],b=[],k=!1,x=!1;!m.eos();){if(o=m.pos,c=m.scanUntil(y[0]))for(var C=0,U=c.length;C<U;++C)e(g=c.charAt(C))?b.push(_.length):x=!0,_.push(["text",g,o,o+1]),o+=1,"\n"===g&&function(){if(k&&!x)for(;b.length;)_.splice(b.pop(),1);else b=[];k=!1,x=!1}();if(o=m.pos,!m.scan(y[0]))break;if(k=!0,a=m.scan(w)||"name",m.scan(h),"="===a)c=m.scanUntil(v),m.scan(v),m.scanUntil(y[1]);else if("{"===a){var E=new RegExp("\\s*"+n("}"+i[1]));c=m.scanUntil(E),m.scan(d),m.scanUntil(y[1]),a="&"}else c=m.scanUntil(y[1]);if(!m.scan(y[1]))throw new Error("Unclosed tag at "+m.pos);_.push([a,c,o,m.pos]),"name"!==a&&"{"!==a&&"&"!==a||(x=!0),"="===a&&(y=u(i=c.split(f)))}return l(_),s(_)};var _=new o;return p.clearCache=function(){return _.clearCache()},p.compile=function(t,e){return _.compile(t,e)},p.compilePartial=function(t,e,n){return _.compilePartial(t,e,n)},p.render=function(t,e,n){return _.render(t,e,n)},p.to_html=function(t,e,n,r){var i=p.render(t,e,n);if("function"!=typeof r)return i;r(i)},p}()),window.Mustache=e}("undefined"==typeof global?global={}:global);