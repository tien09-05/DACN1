(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{0:function(e,t,i){"use strict";i.r(t),i.d(t,"SAVIOR_VERSION",(function(){return j})),i.d(t,"IS_CONTENT_SCRIPT",(function(){return r})),i.d(t,"i18n",(function(){return V})),i.d(t,"xmlParser",(function(){return s})),i.d(t,"query",(function(){return l})),i.d(t,"queryAll",(function(){return c})),i.d(t,"findParent",(function(){return u})),i.d(t,"nearestParent",(function(){return d})),i.d(t,"closest",(function(){return h})),i.d(t,"getNodePropOrEmptyString",(function(){return f})),i.d(t,"stripTagsExcept",(function(){return p})),i.d(t,"toArray",(function(){return m})),i.d(t,"unique",(function(){return v})),i.d(t,"extend",(function(){return g})),i.d(t,"isMatches",(function(){return _})),i.d(t,"getYoutubeInfo",(function(){return b})),i.d(t,"send",(function(){return T})),i.d(t,"get",(function(){return L})),i.d(t,"getSize",(function(){return A})),i.d(t,"beautifyFileSize",(function(){return O})),i.d(t,"detectMediaTypeAndExt",(function(){return I})),i.d(t,"getMediaType",(function(){return x})),i.d(t,"getProp",(function(){return D})),i.d(t,"call",(function(){return Y})),i.d(t,"noop",(function(){return k})),i.d(t,"defined",(function(){return N})),i.d(t,"debounce",(function(){return R})),i.d(t,"replaceEntities",(function(){return M})),i.d(t,"isFullscreen",(function(){return U})),i.d(t,"splitMediaSourcesByTitle",(function(){return C})),i.d(t,"flatten",(function(){return Q})),i.d(t,"addProtocol",(function(){return H})),i.d(t,"isDescendant",(function(){return W})),i.d(t,"makeId",(function(){return X})),i.d(t,"$E",(function(){return q})),i.d(t,"sendMessage",(function(){return B})),i.d(t,"sendBackgroundURLRequest",(function(){return E})),i.d(t,"getRedirect",(function(){return w})),i.d(t,"_getSize",(function(){return S}));var r,n=i(8),o=["B","KB","MB","GB","TB","PB"],a=-1!==window.navigator.appVersion.indexOf("Win")?1024:1e3,s=new window.DOMParser;function l(e,t){return(t=t||document).querySelector(e)}function c(e,t){return m((t=t||document).querySelectorAll(e))}function u(e,t){for(;null!==e&&e.classList&&!e.classList.contains(t);)e=e.parentNode;return e}function d(e,t){for(var i=e;null!==i&&i!==document&&!i.matches(t);)i=i.parentNode;return document===i?null:i}function h(e,t){return e.matches(t)?[e]:c(t,e)}function f(e,t){return e&&e[t]||""}function p(e){return e.replace(/<(?!\/?(?:b|em))[^>]+>/g,"")}function m(e){return Array.prototype.slice.call(e)}function v(e){return Array.from(new Set(e))}function g(e,t){var i=()=>{};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t,t._super=e.prototype}function _(e,t){var i,r,n;if(Array.isArray(e)){for(i=0;i<e.length;++i)if(_(e[i],t))return!0;return!1}for(i=0,r=(t=Array.isArray(t)?t:[t]).length;i<r;++i)if("string"==typeof(n=t[i])&&-1!==e.indexOf(n)||n instanceof RegExp&&e.match(n))return!0;return!1}function y(e,t,i,r,n){return new Promise((o,a)=>{chrome.runtime.sendMessage({requestType:"make_http_request",method:e,url:t,params:i,headers:r,includeCredentials:n},e=>{e&&"resolve"===e.success?o(e.data):a(e&&e.data?e.data:null)})})}function b(e){return new Promise((t,i)=>{chrome.runtime.sendMessage({requestType:"youtube_get_info",method:"GET",url:e},e=>{e.success?t(e.data):i(e.data)})})}function T(e,t,i,n){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];function a(e){return[/www\.facebook\.com\/video\/tahoe\/async\/\d+\/\?originalmediaid=\d.+&payloadtype=primary/,/vnecdn\.net/,/vnecdn\.net\/vnexpress\/video\/.+master.m3u8$/,/.smamuhh1metro/,/gpt[0-9]+\.phimmoi\.net/,/vtvgiaitri\.vn/,/hydra/,/www\.facebook\.com\/api\/graphql/].some(t=>e.match(t))}if("www.facebook.com"===location.host&&a(t)&&!t.includes("api/graphql")){var s=location.href.split("/"),l=s[s.length-2],c=t.split("https://www.facebook.com/video/tahoe/async/")[1].split("/")[0],u=t.split(c);t="https://www.facebook.com/video/tahoe/async/"+l+"/?originalmediaid="+l+u[u.length-1]}if(r&&!a(t))return y.apply(null,arguments);var d=null,h=new Headers;if("object"==typeof n)for(var f in n)h.append(f,n[f]);"object"==typeof i&&(d=Object.keys(i).map(e=>e+"="+i[e]).join("&"),location.host.includes("facebook")&&(d=Object.keys(i).map(e=>`${e}=${encodeURIComponent(i[e])}`).join("&"))),"POST"===e&&h.append("Content-type","application/x-www-form-urlencoded");var p={method:e,headers:h,cache:"reload",body:d||void 0};return o&&(p.credentials="include"),window.fetch(t,p).then(e=>e.text())}function w(e,t,i,r){var n=null,o=new Headers;if("object"==typeof r)for(var a in r)o.append(a,r[a]);"object"==typeof i&&(n=Object.keys(i).map(e=>e+"="+i[e]).join("&")),"POST"===e&&o.append("Content-type","application/x-www-form-urlencoded");var s={method:e,headers:o,cache:"reload",body:n||void 0};return window.fetch(t,s).then(e=>e.url)}function E(e,t,i,r,n){return new Promise((o,a)=>{chrome.runtime.sendMessage({requestType:"get_redirect_url",method:e,url:t,params:i,headers:r,includeCredentials:n},e=>{e&&"resolve"===e.success?o(e):a(e&&e.data?e.data:null)})})}function L(e,t){return T("GET",e,{},t)}function S(e){var t=null,i=new XMLHttpRequest;return e=H(e),new Promise((r,n)=>{function o(e){e?r(e):n(e),i.abort(),clearTimeout(t),t=null}i.open("GET",e),i.setRequestHeader("Cache-Control","no-cache"),i.url=e,i.onreadystatechange=function(){if(!(this.readyState<2)){var e=null;try{e=+this.getResponseHeader("Content-Length"),Number.isNaN(e)&&(e=null)}catch(e){}null===e&&200!==this.status||(200!==this.status&&(e=null),o(e))}},i.send(null),t=setTimeout(o,1e4)})}function A(e){return new Promise((t,i)=>{window.cache.get(e).then(i=>{if(!i)return Promise.reject();t(i),window.cache.put(e,i)}).catch(()=>{window.location.host.includes("hkdrama.asianfans.net")||window.location.host.includes("trangtainhac.com")||window.location.host.includes("facebook.com")?B({requestType:"get_size",url:e},i=>{window.cache.put(e,i.data),t(i.data)}):S(e).then(i=>{window.cache.put(e,i),t(i)}).catch(()=>{e&&e.includes("googlevideo.com/videoplayback")?t(null):window.redirectedUrl?S(window.redirectedUrl).then(i=>{window.cache.put(e,i),t(i)}).catch(()=>{console.error("Cannot request file size:",e),i(null)}):(console.error("Cannot request file size:",e),i(null))})})})}function O(e,t){if(!e)return"";var i,r=a;for(i=0;i<o.length&&e>=r;++i)e/=r;var n=o[i],s=Math.round(10*e)/10;return t&&n&&"kb"===n.toLowerCase()&&(s=s.toFixed(0)),s+o[i]}function I(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=["application/x-mpegurl","application/vnd.apple.mpegurl","audio/x-mpegurl","audio/mpegurl"];if(-1!==i.indexOf(t))return e.type="video",e.ext="m3u8",e;var r=x(t,e.exts);return r&&n.a[r]&&(e.type=r,e.exts&&0!==e.exts.length||!t.includes("mp4")||(e.ext="mp4")),e}function x(e,t){var i;for(var r in n.a){if(i=n.a[r],e&&e.match(i.rgxp))return r;if(Array.isArray(t)&&P(t,i.extensions)||-1!==i.extensions.indexOf(t))return r}return null}function P(e,t){for(var i=e.concat(t),r={},n=0;n<i.length;++n){var o=i[n];if(r[o])return o;r[o]=!0}return null}function D(e,t){return function e(t,i){var r=i.shift();return!r||"object"!=typeof t&&"function"!=typeof t||null===t?null:0===i.length?t[r]:e(t[r],i)}(e,t.split("."))}function Y(e,t){if(e&&!(e.length<=0))for(var i=[].slice.call(arguments,2),r=0;r<e.length;r++)e[r].apply(t,i)}function k(){}function N(e){return void 0!==e}function R(e,t,i){var r;return function(){var n=this,o=arguments;function a(){i||e.apply(n,o),r=null}r?clearTimeout(r):i&&e.apply(n,o),r=setTimeout(a,t||100)}}function M(e){var t={"&amp;":"&"};return String(e).replace(/&amp;/g,e=>t[e])}function U(){return Boolean(document.fullscreenElement||document.webkitFullscreenElement)}function C(e){var t=new Map;return e.forEach(e=>{var i=e.title||e.filename;t.has(i)?t.set(i,t.get(i).concat(e)):t.set(i,[e])}),t}function Q(e,t){var i,r=Object.prototype.toString,n=[],o=t&&e||e.slice();if(!e.length)return n;i=o.pop();do{"[object Array]"===r.call(i)?o.push.apply(o,i):n.push(i)}while(o.length&&void 0!==(i=o.pop()));return n.reverse(),n}function H(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"http";return"string"!=typeof e?e:"//"===e.slice(0,2)?t+":"+e:e}function W(e,t){if(t.getAttribute&&"presentation"===t.getAttribute("role")&&"div"==t.tagName.toLowerCase()&&location.host.includes("facebook.com")){var i=d(t,"div[data-instancekey]");if(i)return i.parentElement.contains(e)}for(t=t.parentNode;t&&t!==e;)t=t.parentNode;return!!t}function X(e){var t=e.url,i=e.quality,r=!!e.soundOnly,n="object"==typeof t?t.videoUrl+"\n"+t.audioUrl:t+(r?"mp3_"+i:"");return e._dash_video_id&&(n+=e._dash_video_id),function(e,t){if(t|=0,0===e.length)return t;var i,r;for(i=0,r=e.length;i<r;i++)t=(t<<5)-t+e.charCodeAt(i),t|=0;return t}(n).toString()}function q(e,t){var i=document.createElement(e);return t&&(i.className=t),i}function B(e,t){try{chrome.runtime.sendMessage(e,t)}catch(e){return!1}return!0}try{chrome.extension.getBackgroundPage(),r=!1}catch(e){r=!0}var V,j=window.SAVIOR_VERSION||"dev";try{V=chrome.i18n.getMessage}catch(e){}},1:function(e,t,i){"use strict";var r=i(7);class n{constructor(){this.SOURCE_POPUP_PAGE=0,this.SOURCE_OPTIONS_PAGE=10,this.SOURCE_CONTENT_SCRIPT=20,this.SOURCE_BACKGROUND_PAGE=30,this.LEGACY_METRICS_NAME_MAP={ButtonClicked:"TryItNowButtonClicked",CheckBoxClicked:"OneClickCheckbox"},this.PAGE_WELCOME_SCREEN=0,this.PAGE_DOWNLOADS_LIST=1,this.PAGE_ONE_CLICK_DOWNLOAD=2,this.PAGE_NO_MEDIA_FOUND=3,this.PAGE_OPTIONS=4,this.PAGE_CONTENT_SHOW_CONTROLS=5,this.PAGE_CONTENT_NO_MEDIA=9,this.DOWNLOAD_AUTO=0,this.DOWNLOAD_BUTTON=1,this.DOWNLOAD_ALL=2,this.DOWNLOAD_REQUEST_SIZE=3,this.DOWNLOAD_REQUEST_SIZE_FAILED=4,this.DOWNLOAD_SOUND_ONLY=5,this.DOWNLOAD_CANCELED=7,this.DOWNLOAD_SUBTITLES=9,this.BUTTON_MAIN=0,this.BUTTON_TRY_IT_NOW=1,this.BUTTON_SHOW_DOWNLOADS=2,this.BUTTON_HIDE_DOWNLOADS=3,this.BUTTON_DOWNLOAD_ALL=4,this.BUTTON_CHECK_ALL=5,this.BUTTON_CHECK_NONE=6,this.BUTTON_FAKE_QUALITY=7,this.BUTTON_DETACH=8,this.BUTTON_HIDE=9,this.CHECK_BOX_ENABLE_ONE_CLICK=0,this.CHECK_BOX_SHOW_ON_PAGE_BUTTONS=2,this.CHECK_BOX_PREFER_LAST_QUALITY=4,this.CHECK_BOX_DETACH_ENABLED=6,this.CHECK_BOX_DARK_THEM_ENABLED=8,this.PIP_DETACH_CLICK=0,this.PIP_RESTORE_CLICK=1,this.PIP_SITE_LINK_CLICK=2,this.PLAY_NOW_SHOWN=0,this.PLAY_NOW_WIDGET_CLICKED=1,this.PLAY_NOW_TOOLTIP_SHOWN=2,this.PLAY_NOW_TOOLTIP_CLOSED=3,this.PLAY_NOW_TOOLTIP_NOT_SHOW_AGAIN=4,this.PLAY_NOW_TOOLTIP_BOTTOM_SHOWN=5,this.PLAY_NOW_TOOLTIP_BOTTOM_CLOSED=6,this.PLAY_NOW_TOOLTIP_BOTTOM_NOT_SHOW_AGAIN=7,this.EXTENSION_MP4=1,this.EXTENSION_MP3=2,this.EXTENSION_WEBM=3,this.EXTENSION_3GP=4,this.EXTENSION_SRT=5,this.EXTENSION_OTHER=6,this.SEND_MOBILE_SHOW=1,this.SEND_MOBILE_CLICK=2,this.SEND_MOBILE_CLICK_CLOSE=3,this.SEND_MOBILE_CLICK_A=4,this.SEND_MOBILE_CLICK_G=5,this.SEND_MOBILE_CLICK_W=6,this.SEND_MOBILE_CLICK_AUDIO=7,this.SEND_MOBILE_ERROR=9,this.SKIPPING_ADS_POPUP_SHOWED=0,this.SKIPPING_ADS_YES=1,this.SKIPPING_ADS_CANCEL=2,this.SKIPPING_ADS_ON=3,this.SKIPPING_ADS_OFF=4,this.SKIPPING_ADS_FOUNDED=5,this.SKIPPING_ADS_SKIPPED=6}get source(){if(!chrome.extension||!chrome.extension.getBackgroundPage)return this.SOURCE_CONTENT_SCRIPT;switch(document.location.pathname){case"/popup.html":return this.SOURCE_POPUP_PAGE;case"/options.html":return this.SOURCE_OPTIONS_PAGE;case"/background.html":return this.SOURCE_BACKGROUND_PAGE;default:return null}}_getFullName(e){return"Savior."+(this.LEGACY_METRICS_NAME_MAP[e]||e)}_getTotalValue(e,t,i){return 0===e.indexOf("Refr")||i||"PageShown"===e||"number"!=typeof t?t:t+this.source}_doLog(e,t,i){var r=this._getFullName(t);if(this.source===this.SOURCE_CONTENT_SCRIPT)chrome.runtime.sendMessage({requestType:"metrics",method:"log",params:{name:t,value:i}});else if(chrome.metricsPrivate)switch(e){case"recordSmallCount":chrome.metricsPrivate.recordValue({metricName:r,type:chrome.metricsPrivate.MetricTypeType.HISTOGRAM_LINEAR,min:0,max:100,buckets:100},i);break;case"recordValue":chrome.metricsPrivate.recordValue({metricName:r,type:chrome.metricsPrivate.MetricTypeType.HISTOGRAM_LINEAR,min:0,max:1e3,buckets:1002},i);break;case"recordSerpData":case"recordClickData":chrome.metricsPrivate[e](i);break;case"recordCustomData":chrome.metricsPrivate.recordCustomData(i)}else if("recordCustomData"===e){if(i&&1===i.length)return void console.info("%c[Metrics] %crecordCustomData %c%s","color:gray","color:silver","color: lightgreen",i[0].key,JSON.parse(i[0].value));console.info("%c[Metrics]","color:gray","recordCustomData",i)}else console.info("%c[Metrics]","color:gray",e,r,i)}static _getMethodByName(e){switch(e){case"Refr":case"RefrSE":case"RefrFE":case"RefrPin":return"recordValue";case"SerpData":return"recordSerpData";case"SerpClickData":return"recordClickData";case"recordCustomData":return"recordCustomData";default:return"recordSmallCount"}}log(e,t,i){var o=n._getMethodByName(e);if("recordCustomData"===o&&r.a.CUSTOM_METRICS_JSON)this._doLog(o,e,t);else{var a=this._getTotalValue(e,t,i);this._doLog(o,e,a)}}logYtExtension(e){switch(e.toLowerCase()){case"mp4":this.log("YtExtension",this.EXTENSION_MP4);break;case"mp3":this.log("YtExtension",this.EXTENSION_MP3);break;case"webm":this.log("YtExtension",this.EXTENSION_WEBM);break;case"3gp":this.log("YtExtension",this.EXTENSION_3GP);break;case"srt":this.log("YtExtension",this.EXTENSION_SRT);break;default:this.log("YtExtension",this.EXTENSION_OTHER)}}logSendMobile(e){this.log("SendMobile",e)}logFromContentScript(e,t){this.log(e,t,!0)}logRequest(e){var t=Object.keys(e).reduce((t,i,r)=>t+=`${r?"&":""}${i}=${e[i]}`,"?");navigator.sendBeacon("https://coccoc.com/log"+t)}}t.a=new n},10:function(e,t,i){"use strict";function r(e,t){return Object.keys(t).forEach(i=>{e.style[i]=t[i]}),e}function n(e){if(!(e instanceof HTMLElement))return{width:0,height:0};e.matches("embed")&&e.parentNode.matches("object")&&(e=e.parentNode);var t=e.querySelector("embed");return t&&t.offsetWidth&&t.offsetHeight&&(e=t),{width:e.offsetWidth,height:e.offsetHeight}}function o(e){return e.split(";").reduce((e,t)=>{var i=t.indexOf(":");if(-1!==i){var r=t.substr(0,i).trim(),n=t.substr(i+1).trim();e[r]=n}return e},{})}function a(e){for(var t={top:0,left:0,height:e.offsetHeight,width:e.offsetWidth};e;)t.left+=e.offsetLeft,t.top+=e.offsetTop,e=e.offsetParent;return t}function s(e,t){Array.isArray(e)?e.forEach(e=>{r(e,t)}):r(e,t)}function l(e,t){var i=e=>{var i=e.getAttribute("style")||"",r=o(i);for(var n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);var a,s=(a=r,Object.keys(a).map(e=>e+": "+a[e]).join("; ")+";");i!==s&&e.setAttribute("style",s)};Array.isArray(e)?e.forEach(i):i(e)}function c(e){return e.attachShadow?e.attachShadow({mode:"open"}):e.createShadowRoot({mode:"open"})}i.d(t,"e",(function(){return s})),i.d(t,"f",(function(){return l})),i.d(t,"d",(function(){return o})),i.d(t,"c",(function(){return a})),i.d(t,"b",(function(){return n})),i.d(t,"a",(function(){return c}))},11:function(e,t){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(e){"object"==typeof window&&(i=window)}e.exports=i},12:function(e,t,i){e.exports=function(){"use strict";
/*!
   * mustache.js - Logic-less {{mustache}} templates with JavaScript
   * http://github.com/janl/mustache.js
   */var e=Object.prototype.toString,t=Array.isArray||function(t){return"[object Array]"===e.call(t)};function i(e){return"function"==typeof e}function r(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function n(e,t){return null!=e&&"object"==typeof e&&t in e}var o=RegExp.prototype.test,a=/\S/;function s(e){return!function(e,t){return o.call(e,t)}(a,e)}var l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},c=/\s*/,u=/\s+/,d=/\s*=/,h=/\s*\}/,f=/#|\^|\/|>|\{|&|=|!/;function p(e){this.string=e,this.tail=e,this.pos=0}function m(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function v(){this.cache={}}p.prototype.eos=function(){return""===this.tail},p.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var i=t[0];return this.tail=this.tail.substring(i.length),this.pos+=i.length,i},p.prototype.scanUntil=function(e){var t,i=this.tail.search(e);switch(i){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,i),this.tail=this.tail.substring(i)}return this.pos+=t.length,t},m.prototype.push=function(e){return new m(e,this)},m.prototype.lookup=function(e){var t,r,o,a=this.cache;if(a.hasOwnProperty(e))t=a[e];else{for(var s,l,c,u=this,d=!1;u;){if(e.indexOf(".")>0)for(s=u.view,l=e.split("."),c=0;null!=s&&c<l.length;)c===l.length-1&&(d=n(s,l[c])||(r=s,o=l[c],null!=r&&"object"!=typeof r&&r.hasOwnProperty&&r.hasOwnProperty(o))),s=s[l[c++]];else s=u.view[e],d=n(u.view,e);if(d){t=s;break}u=u.parent}a[e]=t}return i(t)&&(t=t.call(this.view)),t},v.prototype.clearCache=function(){this.cache={}},v.prototype.parse=function(e,i){var n=this.cache,o=e+":"+(i||g.tags).join(":"),a=n[o];return null==a&&(a=n[o]=function(e,i){if(!e)return[];var n,o,a,l=!1,m=[],v=[],_=[],y=!1,b=!1,T="",w=0;function E(){if(y&&!b)for(;_.length;)delete v[_.pop()];else _=[];y=!1,b=!1}function L(e){if("string"==typeof e&&(e=e.split(u,2)),!t(e)||2!==e.length)throw new Error("Invalid tags: "+e);n=new RegExp(r(e[0])+"\\s*"),o=new RegExp("\\s*"+r(e[1])),a=new RegExp("\\s*"+r("}"+e[1]))}L(i||g.tags);for(var S,A,O,I,x,P,D=new p(e);!D.eos();){if(S=D.pos,O=D.scanUntil(n))for(var Y=0,k=O.length;Y<k;++Y)s(I=O.charAt(Y))?(_.push(v.length),T+=I):(b=!0,l=!0,T+=" "),v.push(["text",I,S,S+1]),S+=1,"\n"===I&&(E(),T="",w=0,l=!1);if(!D.scan(n))break;if(y=!0,A=D.scan(f)||"name",D.scan(c),"="===A?(O=D.scanUntil(d),D.scan(d),D.scanUntil(o)):"{"===A?(O=D.scanUntil(a),D.scan(h),D.scanUntil(o),A="&"):O=D.scanUntil(o),!D.scan(o))throw new Error("Unclosed tag at "+D.pos);if(x=">"==A?[A,O,S,D.pos,T,w,l]:[A,O,S,D.pos],w++,v.push(x),"#"===A||"^"===A)m.push(x);else if("/"===A){if(!(P=m.pop()))throw new Error('Unopened section "'+O+'" at '+S);if(P[1]!==O)throw new Error('Unclosed section "'+P[1]+'" at '+S)}else"name"===A||"{"===A||"&"===A?b=!0:"="===A&&L(O)}if(E(),P=m.pop())throw new Error('Unclosed section "'+P[1]+'" at '+D.pos);return function(e){for(var t,i=[],r=i,n=[],o=0,a=e.length;o<a;++o)switch((t=e[o])[0]){case"#":case"^":r.push(t),n.push(t),r=t[4]=[];break;case"/":n.pop()[5]=t[2],r=n.length>0?n[n.length-1][4]:i;break;default:r.push(t)}return i}(function(e){for(var t,i,r=[],n=0,o=e.length;n<o;++n)(t=e[n])&&("text"===t[0]&&i&&"text"===i[0]?(i[1]+=t[1],i[3]=t[3]):(r.push(t),i=t));return r}(v))}(e,i)),a},v.prototype.render=function(e,t,i,r){var n=this.parse(e,r),o=t instanceof m?t:new m(t,void 0);return this.renderTokens(n,o,i,e,r)},v.prototype.renderTokens=function(e,t,i,r,n){for(var o,a,s,l="",c=0,u=e.length;c<u;++c)s=void 0,"#"===(a=(o=e[c])[0])?s=this.renderSection(o,t,i,r):"^"===a?s=this.renderInverted(o,t,i,r):">"===a?s=this.renderPartial(o,t,i,n):"&"===a?s=this.unescapedValue(o,t):"name"===a?s=this.escapedValue(o,t):"text"===a&&(s=this.rawValue(o)),void 0!==s&&(l+=s);return l},v.prototype.renderSection=function(e,r,n,o){var a=this,s="",l=r.lookup(e[1]);if(l){if(t(l))for(var c=0,u=l.length;c<u;++c)s+=this.renderTokens(e[4],r.push(l[c]),n,o);else if("object"==typeof l||"string"==typeof l||"number"==typeof l)s+=this.renderTokens(e[4],r.push(l),n,o);else if(i(l)){if("string"!=typeof o)throw new Error("Cannot use higher-order sections without the original template");null!=(l=l.call(r.view,o.slice(e[3],e[5]),(function(e){return a.render(e,r,n)})))&&(s+=l)}else s+=this.renderTokens(e[4],r,n,o);return s}},v.prototype.renderInverted=function(e,i,r,n){var o=i.lookup(e[1]);if(!o||t(o)&&0===o.length)return this.renderTokens(e[4],i,r,n)},v.prototype.indentPartial=function(e,t,i){for(var r=t.replace(/[^ \t]/g,""),n=e.split("\n"),o=0;o<n.length;o++)n[o].length&&(o>0||!i)&&(n[o]=r+n[o]);return n.join("\n")},v.prototype.renderPartial=function(e,t,r,n){if(r){var o=i(r)?r(e[1]):r[e[1]];if(null!=o){var a=e[6],s=e[5],l=e[4],c=o;return 0==s&&l&&(c=this.indentPartial(o,l,a)),this.renderTokens(this.parse(c,n),t,r,c)}}},v.prototype.unescapedValue=function(e,t){var i=t.lookup(e[1]);if(null!=i)return i},v.prototype.escapedValue=function(e,t){var i=t.lookup(e[1]);if(null!=i)return g.escape(i)},v.prototype.rawValue=function(e){return e[1]};var g={name:"mustache.js",version:"3.2.1",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,to_html:void 0,Scanner:void 0,Context:void 0,Writer:void 0},_=new v;return g.clearCache=function(){return _.clearCache()},g.parse=function(e,t){return _.parse(e,t)},g.render=function(e,i,r,n){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+(t(o=e)?"array":typeof o)+'" was given as the first argument for mustache#render(template, view, partials)');var o;return _.render(e,i,r,n)},g.to_html=function(e,t,r,n){var o=g.render(e,t,r);if(!i(n))return o;n(o)},g.escape=function(e){return String(e).replace(/[&<>"'`=\/]/g,(function(e){return l[e]}))},g.Scanner=p,g.Context=m,g.Writer=v,g}()},13:function(e,t){var i,r,n=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(i===setTimeout)return setTimeout(e,0);if((i===o||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:o}catch(e){i=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var l,c=[],u=!1,d=-1;function h(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&f())}function f(){if(!u){var e=s(h);u=!0;for(var t=c.length;t;){for(l=c,c=[];++d<t;)l&&l[d].run();d=-1,t=c.length}l=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];c.push(new p(e,t)),1!==c.length||u||s(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=m,n.addListener=m,n.once=m,n.off=m,n.removeListener=m,n.removeAllListeners=m,n.emit=m,n.prependListener=m,n.prependOnceListener=m,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},143:function(e,t,i){i(12),e.exports=i(0)},16:function(e,t,i){"use strict";var r=i(0),n=i(7),o=i(8);class a{constructor(e){console.assert(e.id),this._date=Date.now(),this.values={},this._sizePromise=null,this._hls=!1,this.MAX_FILE_NAME_LENGTH=128,e.title||Object.defineProperty(this,"title",{get:()=>"string"==typeof this._title?this._title:(this._title=this.getName().substr(0,this.MAX_FILE_NAME_LENGTH),this._title),set:()=>{this._title=this.getName().substr(0,this.MAX_FILE_NAME_LENGTH)}}),this.merge(e)}static isValidData(e){if(n.a.M3U8&&Object(o.e)(e.ext))return!0;var t=o.a[e.type],i=t&&t.extensions;return t&&-1!==i.indexOf(e.ext)}_createFieldGetter(e){this[e]=()=>this.get(e)}_generateFakeName(){return[this.type,r.makeId(this.values)].join("-").replace(/-+/g,"-")}get(e){if("string"==typeof e||"number"==typeof e)return this.values[e]||this[e]}set(e,t){return"string"!=typeof e&&"number"!=typeof e||this.values[e]===t||(this[e]=t),this}merge(e){var t=e instanceof a?e.values:e;for(var i in t)this.set(i,void 0!==t[i]?t[i]:t[i]||null);return Object(o.e)(this.get("ext"))&&("audio"===this.get("type")?this.set("ext","mp3"):this.set("ext","mp4"),this._hls=!0),this}getName(){var e="string"==typeof this._title?this._title:"";return r.replaceEntities(e||this.filename||this._generateFakeName())}getFilenameFromTitle(){var e=this.title,t="."+this.ext,i=0;return e.endsWith(t)&&(i=t.length+1),e=e.replace(/\s+/g," ").replace(/[/\\:*?"<>|\u200c\u200d]/g,"-").substr(0,this.MAX_FILE_NAME_LENGTH-i)+t}extQuality(){return(this.get("ext")||"")+"/"+(this.get("quality")||"")+"/"+(this.get("resolution")||"")}getSize(){var e=this;if(e._sizePromise)return e._sizePromise;if(this._hls||this._isDashMPD)return Promise.resolve(null);var t=new Promise((t,i)=>{var n=e.get("size");if((n=r.defined(n)?n:0)||null===n||e._hls)return t(n);var o=[];function a(e){e&&o.push(r.getSize(e))}var s=e.get("url");"object"==typeof s?[s.audioUrl,s.videoUrl].forEach(a):a(s);o=o.length>0?1===o.length?o[0]:Promise.all(o):Promise.reject();var l=e.get("altUrl");o.then((function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];for(var a=r.flatten(n),s=0,l=a.length-1;l>=0;l--)s+=a[l];e.set("size",s),t(s)})).catch(()=>{if(l&&s!==l){var n=r.getSize(l);return n.then(i=>{e.set("size",i),t(i)}).catch(e=>{i(e)}),n}i(null)})});return e._sizePromise=t,t}}t.a=a},2:function(e,t,i){"use strict";t.a=new class{constructor(){this._storage=chrome.storage.local,this._options={skipping_ads_enable:!1},this._default={dark_mode:window.matchMedia("(prefers-color-scheme: dark)").matches,detach_enabled:!0,on_page_buttons:!0,min_stream_size:30720,prefer_last_quality:!0,hide_play_now_tooltip:!1,hide_play_now_tooltip_bottom:!1,instant_actions_tooltip_shown:!1,instant_actions_tooltip_shown_count:0,instant_actions_button_download:!1};var e=this;chrome.storage.onChanged.addListener((t,i)=>{if("local"===i)for(var r in t)e._options[r]=t[r].newValue})}load(){var e=this;return new Promise(t=>{e._storage.get(null,i=>{e._options=i,t(i)})})}set(e,t){var i={};("string"==typeof e||"number"==typeof e&&void 0!==t)&&(i[e]=t,this._options[e]=t,this._storage.set(i))}get(e){return e in this._options?this._options[e]:this._default[e]}has(e){return void 0!==this._options[e]}}},22:function(e,t,i){"use strict";i.d(t,"a",(function(){return d}));var r=i(1),n=i(4),o=i(0),a=i(8),s=i(2),l=i(16);function c(e,t){var i;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(i=function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return u(e,t)}(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==i.return||i.return()}finally{if(s)throw o}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}class d{constructor(e,t,i){if(this.api=window.downloads,this._uninitialized=!0,o.defined(t)||(t=-1),this._tid=t,this.data=[],e&&e.length>0){var r,n=c(e);try{for(n.s();!(r=n.n()).done;){var a=r.value;a.filename=this.convertUnicodeToChar(a.filename),a.title=this.convertUnicodeToChar(a.title)}}catch(e){n.e(e)}finally{n.f()}}this.setMediaData(e,i)}convertUnicodeToChar(e){return e?e.replace(/\\u[\dA-F]{4}/gi,(function(e){return String.fromCharCode(parseInt(e.replace(/\\u/g,""),16))})):null}setMediaData(e,t){var i=this;return new Promise((function(r){if(!e)return r({model:i,updated:!1}),t&&t(),this;Promise.all([e]).then(e=>{var n=e[0];if(i._uninitialized&&0===n.length)return i._uninitialized=!1,r({model:i,updated:!0}),void(t&&t());i._uninitialized=!1;var a=i.data,s=new Array(a.length),c=a.map(e=>e.id);n.forEach(e=>{e.id=e.id||o.makeId(e);var t,r=c.indexOf(e.id);-1===r?(c.push(e.id),t=new l.a(e),a.push(t)):(r<s.length&&(s[r]=!0),(t=a[r]).merge(e)),t._ditem=i.api.item(i._tid,e.id)});for(var u=s.length!==a.length,d=s.length-1;d>=0;d--)s[d]||(u=!0,a.splice(d,1));r({model:i,updated:u}),t&&t()})}))}getMediaCountByTitle(){var e=this.data;if(0===e.length)return 0;var t=new Set;return e.forEach(e=>{t.has(e.title)||t.add(e.title)}),t.size}getMedia(e){return this.data.filter(t=>t.id===e)[0]}getMediaGroup(e){return this.data.filter(t=>-1!==e.indexOf(t.id))}download(e){var t=this.getMedia(e);if(t){var i={id:t.id,url:t.url,filename:t.getFilenameFromTitle(),referrer:t.referrer,hls:t._hls};return i.referrer&&i.referrer.includes("bilutv.org/")&&i.url.includes("zadn.vn/")&&delete i.referrer,void 0!==t.soundOnly&&(i.soundOnly=t.soundOnly,i.resolution=t.resolution||128),void 0!==t.quality&&(i.quality=t.quality),void 0!==i.soundOnly&&i.soundOnly&&r.a.log("Download",r.a.DOWNLOAD_SOUND_ONLY),i.filename&&i.filename.match(/\.yt_srt$/i)&&r.a.log("Download",r.a.DOWNLOAD_SUBTITLES),t._isDashMPD&&void 0!==t._dash_video_id&&(i.dashMPD=t._isDashMPD,i.dashVideoId=t._dash_video_id),t._hls&&t.dashVideoId&&(i.hls=t._hls,i.dashVideoId=""+t.dashVideoId),this.api.download(this._tid,i).then(e=>(t._ditem=e,Promise.resolve(e))).catch(e=>Promise.reject(e))}}onChange(e){this.api.onChange(this._tid,e)}group(){var e=this.sortMedia(this.data),t=this.splitMediaByTitle(e);return(t=t.map(this.excludeQualityDuplicates.bind(this))).map(this.splitMediaByType.bind(this))}splitMediaByTitle(e){var t=[];return e.forEach(e=>{var i=e.title,r=t.find(e=>e.title===i);r?r.media.push(e):t.push({media:[e],title:i})}),t}excludeQualityDuplicates(e){var t=new Set,i=Object.assign({},e),r=[...a.a.video.extensions];return s.a.get("show_3gp_ext")&&(r=r.sort((e,t)=>"3gp"===e?-1:"3gp"===t?1:0)),i.media=e.media.filter(i=>{var n;n=void 0!==i.resolution?`${i.quality}_${i.resolution}_${i.ext}`:`${i.quality}_${i.ext}`;var o=e.media.some(e=>{if(e.quality!==i.quality)return!1;if(e===i)return!1;if(e.type!==i.type)return!1;var t=r.indexOf(e.ext)<r.indexOf(i.ext),n=!i.resolution&&!!e.resolution||e.resolution>i.resolution,o=i.resolution===e.resolution&&i.resolution&&e.resolution;return t&&o||n});return!t.has(n)&&!o&&(t.add(n),!0)}),i}splitMediaByType(e){var t=[];return e.media.forEach(e=>{var i=e.type,r=t.find(e=>e.type===i);r?r.media.push(e):t.push({media:[e],i18n_type:o.i18n("media_fields_type_"+i),type:i})}),t=t.sort((e,t)=>a.c.indexOf(e.type)<a.c.indexOf(t.type)?-1:1),e.media=t,e}sortMedia(e){var t=Array.isArray(e.media)?e.media:e;return t.forEach(t=>{var i=e.type||t.type;t.quality=t.quality||n.a.DEFAULT_QUALITY_TYPE;var r=a.a[i].extensions,o=r.length-1,s=r.indexOf(t.ext),l=o-(s=void 0!==s?s:o);t.sortValues=t.sortValues||{},t.sortValues.qualityValue||(t.sortValues.qualityValue=100*(n.a.getQualityIndexByVideoTitleQuality(t.quality)||1)),t.sortValues.extensionValue=l,t.sortValues.totalValue=t.sortValues.qualityValue+t.sortValues.extensionValue}),t=t.sort((e,t)=>{if(e.sortValues.totalValue===t.sortValues.totalValue&&e.resolution&&t.resolution){var i=/[0-9]+/i;return e.resolution.match(i)[0]>t.resolution.match(i)[0]?-1:1}return e.sortValues.totalValue>t.sortValues.totalValue?-1:1})}filterByCommonFields(e,t,i){var r=this.getMedia(e);return i=i||[],this.data.filter(n=>e!==n.id&&t.reduce((e,t)=>e&&r[t]&&n[t]&&r[t]===n[t],!0)&&i.reduce((e,t)=>e&&r[t]&&n[t]&&r[t]!==n[t],!0))}getSameQualityMediaFormats(e){var t=this.filterByCommonFields(e,["title","type","quality"],["ext"]).map(e=>e.ext&&e.ext);return Array.from(new Set(t))}getSameFormatMediaQuality(e){var t=this.filterByCommonFields(e,["title","type","ext"],["quality"]).map(e=>e.quality?n.a.getSizeByQuality(e.quality):0);return Array.from(new Set(t))}getAllMediaFormats(e){return this.filterByCommonFields(e,["title","type"]).reduce((e,t)=>{var i=t.ext&&t.ext,r=t.quality?n.a.getSizeByQuality(t.quality):0;return i?(e[i]||(e[i]=[]),-1===e[i].indexOf(r)&&e[i].push(r),e):e},{})}isOneMedia(){for(var e,t=this.data,i={},r=0,n=0;r<t.length&&n<=1;++r)if(!i[e=t[r].title]&&(i[e]=!0,++n>1))return!1;return!0}}},23:function(e,t,i){"use strict";class r{constructor(e){this.common=e}log(e){var t=Object.assign({},this.common,e);chrome.runtime.sendMessage({requestType:"metrics",method:"log_request",params:t})}}t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new r(e);return t.log.bind(t)}},3:function(e,t,i){"use strict";i.d(t,"f",(function(){return u})),i.d(t,"g",(function(){return d})),i.d(t,"b",(function(){return h})),i.d(t,"d",(function(){return f})),i.d(t,"e",(function(){return p})),i.d(t,"a",(function(){return m})),i.d(t,"c",(function(){return v}));var r=i(8),n=i(0),o=document.createElement("a"),a=/([^/]+)$/i,s=/\.([^/.]*)$/i,l=/^(?:([^:/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?))?((((?:[^?#/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/;function c(e){return e&&0!==e.indexOf("data:image")?l.exec(e):[]}c(document.location.href);function u(e,t){var i=o;i.setAttribute("href",e&&e.videoUrl?e.videoUrl:e);var r=(i.pathname.match(a)||[])[1]||"",n=r.split(".").map(e=>e.toLowerCase());r=decodeURIComponent(r.replace(s,"")),n.shift();var l=n[n.length-1]||"",c={url:e,protocol:i.protocol,host:i.host,port:i.port,pathname:i.pathname,filename:r,ext:l,exts:n,hash:i.hash,search:i.search};return c.port||delete c.port,t&&(c.query={},i.search.replace(/^\?/,"").split(/&/).forEach(e=>{e=e.split("="),c.query[e[0]]=e[1]})),c}function d(e){var t=(e=e.replace(/^[#?]{1}/,"")).split("&"),i={};return t.forEach(e=>{var t=e.split("=");Object(n.defined)(t[0])&&Object(n.defined)(t[1])&&(i[t[0]]=decodeURIComponent(t[1].replace(/\+/g," ")))}),i}function h(e){if((e=Object.create(e)).query){for(var t in e.search=[],e.query)void 0!==e.query[t]?e.search.push(t+"="+encodeURIComponent(e.query[t])):e.search.push(t);e.search="?"+e.search.join("&"),delete e.query}for(var i in e)o[i]=e[i];return o.href}function f(e){return c(e)[6]||""}function p(e){var t=c(e)[11]||"";if(!t)return"";var i=new Map;Object.keys(r.a).forEach(e=>{for(var t=r.a[e].extensions,n=0;n<t.length;n++)i.set(t[n],e)}),e.includes("googlevideo.com/videoplayback")&&"videoplayback"===t&&e.includes("mp4")&&(t="video.mp4"),e.includes("videoplayback")&&"videoplayback"===t&&e.includes("mp4")&&(t="video.mp4");var n=t.split("."),o=n.length-1;if(o<=0)return"";var a=n[o].toLowerCase();return i.get(a)}function m(e,t){var i="";e.toString();for(var r=0;r<e.length;r++){var n=e.charCodeAt(r)^t;i+=String.fromCharCode(n)}return i}function v(e){var t=e.classList||[],i=null;if(t.forEach(e=>{if(e.includes("dugout-embed")){var t=e.split("dugout-embed-");i=t[1]?t[1]:null}}),i)try{var r=JSON.parse(window.atob(i));if(r.key)return`https://cdn.jwplayer.com/manifests/${r.key}.m3u8`}catch(e){}}},30:function(e,t,i){"use strict";var r=i(0),n=i(1),o=i(2),a=i(4),s=i(12),l=i.n(s),c=i(61),u=i.n(c),d=!r.IS_CONTENT_SCRIPT;t.a=class{constructor(e){this._widget=e,this._sizeQueue=u()((e,t)=>{this._checkFileSize(e,t)},3),this._downloads=null,location.protocol.includes("chrome")&&location.pathname.includes("popup.html")&&this.initPlayNowListener(),o.a.load()}setDownloads(e){this._downloads=e}render(e,t,i){var n=o.a.get("dark_theme");t.downloads=this._downloads.group(),d&&(t.is_only=this._downloads.isOneMedia());var a=r.query("#downloads",this._widget);d?(a.parentElement.classList.add(n?"dark-theme":"default"),a.innerHTML=l.a.render(e,t,{media_template:o.a.get("template-media-popup")})):a.innerHTML=l.a.render(e,t,{media_template:o.a.get("template-media")}),a.classList.add("content");var s=this.applyCurrentValues(i);if(d){var c=r.query(".downloads-list",this._widget);c.scrollHeight>c.offsetHeight&&c.addEventListener("scroll",this._getSizeOfVisibleMedia.bind(this),!1),this._widget.classList.add("done")}return s}initPlayNowListener(){chrome.runtime.onMessage.addListener(e=>{if("downloads"===e.requestType&&"widget_progress"===e.method){var t=e.params;if(t.mime&&t.mime.includes("video")&&!t.filename.match(/\.mp3$/)){var i,n=t.url,o=this._widget.querySelector('a[data-url="'+n+'"]');if(!o)return;i=r.nearestParent(o,".j-media-scope"),t.exists&&(t.playable||"complete"===t.state)?this._handleProgress(i,t):"interrupted"!==t.state&&t.exists||this._changeWidgetMode(i,"select_media")}}})}_handleProgress(e,t){var i=0,o=e.querySelector(".play-now-btn"),a=parseInt(o.dataset.downloadId);if(a&&a===t.id||(o.dataset.downloadId=t.id),e.matches(".progress-mode")||(this._changeWidgetMode(e,"progress"),n.a.log("PlayNow",n.a.PLAY_NOW_SHOWN)),"complete"!==t.state){var s=(t.bytesReceived/t.totalBytes*100).toFixed(0);s<0&&(s=0),i=s+"%"}else i="100%";var l=e.querySelector(".progress-bar .bar");l&&(l.style.width=i);var c=r.beautifyFileSize(t.totalBytes,!0),u=r.beautifyFileSize(t.bytesReceived,!0),d=e.querySelector(".progress-box .progress-text");d&&(d.innerText="100%"!==i?u+" "+r.i18n("play_now_received_from")+" "+c:c);var h=e.dataset.prevReceived||0,f=t.bytesReceived-h;f<0&&(f=Math.abs(f)),f<0&&(f=0);var p=r.beautifyFileSize(f,!0),m=e.querySelector(".progress-box .speed-text");m&&(m.innerHTML="100%"!==i?'<span class="green-arrow-icon"></span> '+p+"/"+r.i18n("play_now_per_second"):""),e.dataset.prevReceived=t.bytesReceived}_changeWidgetMode(e,t){e.classList.remove("progress-mode","select-mode"),e.classList.add(t+"-mode")}_checkFileSize(e,t){var i=this._downloads.getMedia(e);if(i&&!i.size){n.a.log("Download",n.a.DOWNLOAD_REQUEST_SIZE);var o=r.query("#size_"+i.id,this._widget);o.classList.add("size-loading"),i.getSize().then(e=>{if("function"==typeof t&&t(),o&&(o.classList.add("done"),o.classList.remove("size-loading"),null!==e)){var i=r.beautifyFileSize(e);o.textContent=`${i}`,this._setSizeText(o,i),0===e&&n.a.log("Download",n.a.DOWNLOAD_REQUEST_SIZE_FAILED)}}).catch(()=>{"function"==typeof t&&t(),o.classList.add("done"),o.textContent="(Error)",r.query("#media_"+i.id,this._widget).setAttribute("disabled","disabled"),this._setSizeText(o,"(Error)")})}else"function"==typeof t&&t()}_setSizeText(e,t){var i=r.findParent(e,"select-wrapper");if(i){var n=i.querySelector(".j-quality.selected .j-checked-size");n&&(n.innerText=t)}}_applyCurrentValues(e){var t=((arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)||e.querySelector(".j-quality-selector")).getAttribute("data-selected-value");r.queryAll(".j-quality-option, .j-quality-download",e).forEach(e=>{e.hidden=e.dataset.quality!==t,d||e.hidden||!e.classList.contains("j-quality-download")||this._sizeQueue.push(e.dataset.id)},this),d&&this._getSizeOfVisibleMedia()}applyCurrentValues(e){var t=this._downloads,i=o.a.get("prefer_last_quality")&&o.a.get("preferred_quality:"+e),n=r.queryAll(".j-media-scope",this._widget);return n.forEach((function(n){var o=r.queryAll(".j-quality-download",n).map(e=>e.dataset.id),s=a.a.chooseBestDownload(t.getMediaGroup(o),e,i),l=r.query(".j-quality-selector",n);if(l){var c=s.extQuality();l.setAttribute("data-selected-value",c);var u=l.querySelector(`[data-quality-value="${c}"]`);u&&u.classList.add("selected")}this._applyCurrentValues(n,l)}),this),n}_getSizeOfVisibleMedia(){for(var e=r.query(".downloads-list",this._widget),t=e.scrollTop,i=e.offsetHeight,n=r.queryAll(".j-quality-download:not([hidden])",e),o=0,a=n.length;o<a;++o){var s=n[o];if(s.offsetTop>t+i+10)break;this._sizeQueue.push(s.dataset.id)}}getMetricsParams(e,t){var i=e instanceof Node?e.dataset.id:e,r=this._downloads,n=r.getMedia(i),o=t||{},s=r.getAllMediaFormats(i),l=[];for(var c in s)l.push(c+":"+s[c].join("|"));var u=n.ext?n.ext:"unknown";return o.size=n.quality?a.a.getSizeByQuality(n.quality):0,o.ext=u,o.same_size_exts=r.getSameQualityMediaFormats(i).join("|"),o.same_ext_sizes=r.getSameFormatMediaQuality(i).join("|"),o.total=l.join(","),o}download(e){if(!e.classList.contains("j-disabled"))return e.classList.add("j-disabled"),e.classList.add("btn-progress"),new Promise(t=>{this._downloads.download(e.dataset.id).then(()=>{e.classList.remove("btn-progress"),location.href.includes("chrome-extension")?e.classList.add("omni-box-btn-started"):e.classList.add("btn-started"),t(!0)}).catch(i=>{e.classList.remove("btn-progress"),e.classList.remove("j-disabled"),console.warn("failed to download :(",e.dataset.id,i),t(!1)})})}}},31:function(e,t,i){"use strict";
/*!
 * perfect-scrollbar v1.5.0
 * Copyright 2020 Hyunje Jun, MDBootstrap and Contributors
 * Licensed under MIT
 */function r(e){return getComputedStyle(e)}function n(e,t){for(var i in t){var r=t[i];"number"==typeof r&&(r+="px"),e.style[i]=r}return e}function o(e){var t=document.createElement("div");return t.className=e,t}var a="undefined"!=typeof Element&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function s(e,t){if(!a)throw new Error("No element matching method supported");return a.call(e,t)}function l(e){e.remove?e.remove():e.parentNode&&e.parentNode.removeChild(e)}function c(e,t){return Array.prototype.filter.call(e.children,(function(e){return s(e,t)}))}var u="ps",d="ps__rtl",h={thumb:function(e){return"ps__thumb-"+e},rail:function(e){return"ps__rail-"+e},consuming:"ps__child--consume"},f={focus:"ps--focus",clicking:"ps--clicking",active:function(e){return"ps--active-"+e},scrolling:function(e){return"ps--scrolling-"+e}},p={x:null,y:null};function m(e,t){var i=e.element.classList,r=f.scrolling(t);i.contains(r)?clearTimeout(p[t]):i.add(r)}function v(e,t){p[t]=setTimeout((function(){return e.isAlive&&e.element.classList.remove(f.scrolling(t))}),e.settings.scrollingThreshold)}var g=function(e){this.element=e,this.handlers={}},_={isEmpty:{configurable:!0}};g.prototype.bind=function(e,t){void 0===this.handlers[e]&&(this.handlers[e]=[]),this.handlers[e].push(t),this.element.addEventListener(e,t,!1)},g.prototype.unbind=function(e,t){var i=this;this.handlers[e]=this.handlers[e].filter((function(r){return!(!t||r===t)||(i.element.removeEventListener(e,r,!1),!1)}))},g.prototype.unbindAll=function(){for(var e in this.handlers)this.unbind(e)},_.isEmpty.get=function(){var e=this;return Object.keys(this.handlers).every((function(t){return 0===e.handlers[t].length}))},Object.defineProperties(g.prototype,_);var y=function(){this.eventElements=[]};function b(e){if("function"==typeof window.CustomEvent)return new CustomEvent(e);var t=document.createEvent("CustomEvent");return t.initCustomEvent(e,!1,!1,void 0),t}function T(e,t,i,r,n){var o;if(void 0===r&&(r=!0),void 0===n&&(n=!1),"top"===t)o=["contentHeight","containerHeight","scrollTop","y","up","down"];else{if("left"!==t)throw new Error("A proper axis should be provided");o=["contentWidth","containerWidth","scrollLeft","x","left","right"]}!function(e,t,i,r,n){var o=i[0],a=i[1],s=i[2],l=i[3],c=i[4],u=i[5];void 0===r&&(r=!0);void 0===n&&(n=!1);var d=e.element;e.reach[l]=null,d[s]<1&&(e.reach[l]="start");d[s]>e[o]-e[a]-1&&(e.reach[l]="end");t&&(d.dispatchEvent(b("ps-scroll-"+l)),t<0?d.dispatchEvent(b("ps-scroll-"+c)):t>0&&d.dispatchEvent(b("ps-scroll-"+u)),r&&function(e,t){m(e,t),v(e,t)}(e,l));e.reach[l]&&(t||n)&&d.dispatchEvent(b("ps-"+l+"-reach-"+e.reach[l]))}(e,i,o,r,n)}function w(e){return parseInt(e,10)||0}y.prototype.eventElement=function(e){var t=this.eventElements.filter((function(t){return t.element===e}))[0];return t||(t=new g(e),this.eventElements.push(t)),t},y.prototype.bind=function(e,t,i){this.eventElement(e).bind(t,i)},y.prototype.unbind=function(e,t,i){var r=this.eventElement(e);r.unbind(t,i),r.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(r),1)},y.prototype.unbindAll=function(){this.eventElements.forEach((function(e){return e.unbindAll()})),this.eventElements=[]},y.prototype.once=function(e,t,i){var r=this.eventElement(e);r.bind(t,(function e(n){r.unbind(t,e),i(n)}))};var E={isWebKit:"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:"undefined"!=typeof window&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:"undefined"!=typeof navigator&&navigator.msMaxTouchPoints,isChrome:"undefined"!=typeof navigator&&/Chrome/i.test(navigator&&navigator.userAgent)};function L(e){var t=e.element,i=Math.floor(t.scrollTop),r=t.getBoundingClientRect();e.containerWidth=Math.ceil(r.width),e.containerHeight=Math.ceil(r.height),e.contentWidth=t.scrollWidth,e.contentHeight=t.scrollHeight,t.contains(e.scrollbarXRail)||(c(t,h.rail("x")).forEach((function(e){return l(e)})),t.appendChild(e.scrollbarXRail)),t.contains(e.scrollbarYRail)||(c(t,h.rail("y")).forEach((function(e){return l(e)})),t.appendChild(e.scrollbarYRail)),!e.settings.suppressScrollX&&e.containerWidth+e.settings.scrollXMarginOffset<e.contentWidth?(e.scrollbarXActive=!0,e.railXWidth=e.containerWidth-e.railXMarginWidth,e.railXRatio=e.containerWidth/e.railXWidth,e.scrollbarXWidth=S(e,w(e.railXWidth*e.containerWidth/e.contentWidth)),e.scrollbarXLeft=w((e.negativeScrollAdjustment+t.scrollLeft)*(e.railXWidth-e.scrollbarXWidth)/(e.contentWidth-e.containerWidth))):e.scrollbarXActive=!1,!e.settings.suppressScrollY&&e.containerHeight+e.settings.scrollYMarginOffset<e.contentHeight?(e.scrollbarYActive=!0,e.railYHeight=e.containerHeight-e.railYMarginHeight,e.railYRatio=e.containerHeight/e.railYHeight,e.scrollbarYHeight=S(e,w(e.railYHeight*e.containerHeight/e.contentHeight)),e.scrollbarYTop=w(i*(e.railYHeight-e.scrollbarYHeight)/(e.contentHeight-e.containerHeight))):e.scrollbarYActive=!1,e.scrollbarXLeft>=e.railXWidth-e.scrollbarXWidth&&(e.scrollbarXLeft=e.railXWidth-e.scrollbarXWidth),e.scrollbarYTop>=e.railYHeight-e.scrollbarYHeight&&(e.scrollbarYTop=e.railYHeight-e.scrollbarYHeight),function(e,t){var i={width:t.railXWidth},r=Math.floor(e.scrollTop);t.isRtl?i.left=t.negativeScrollAdjustment+e.scrollLeft+t.containerWidth-t.contentWidth:i.left=e.scrollLeft;t.isScrollbarXUsingBottom?i.bottom=t.scrollbarXBottom-r:i.top=t.scrollbarXTop+r;n(t.scrollbarXRail,i);var o={top:r,height:t.railYHeight};t.isScrollbarYUsingRight?t.isRtl?o.right=t.contentWidth-(t.negativeScrollAdjustment+e.scrollLeft)-t.scrollbarYRight-t.scrollbarYOuterWidth-9:o.right=t.scrollbarYRight-e.scrollLeft:t.isRtl?o.left=t.negativeScrollAdjustment+e.scrollLeft+2*t.containerWidth-t.contentWidth-t.scrollbarYLeft-t.scrollbarYOuterWidth:o.left=t.scrollbarYLeft+e.scrollLeft;n(t.scrollbarYRail,o),n(t.scrollbarX,{left:t.scrollbarXLeft,width:t.scrollbarXWidth-t.railBorderXWidth}),n(t.scrollbarY,{top:t.scrollbarYTop,height:t.scrollbarYHeight-t.railBorderYWidth})}(t,e),e.scrollbarXActive?t.classList.add(f.active("x")):(t.classList.remove(f.active("x")),e.scrollbarXWidth=0,e.scrollbarXLeft=0,t.scrollLeft=!0===e.isRtl?e.contentWidth:0),e.scrollbarYActive?t.classList.add(f.active("y")):(t.classList.remove(f.active("y")),e.scrollbarYHeight=0,e.scrollbarYTop=0,t.scrollTop=0)}function S(e,t){return e.settings.minScrollbarLength&&(t=Math.max(t,e.settings.minScrollbarLength)),e.settings.maxScrollbarLength&&(t=Math.min(t,e.settings.maxScrollbarLength)),t}function A(e,t){var i=t[0],r=t[1],n=t[2],o=t[3],a=t[4],s=t[5],l=t[6],c=t[7],u=t[8],d=e.element,h=null,p=null,g=null;function _(t){t.touches&&t.touches[0]&&(t[n]=t.touches[0].pageY),d[l]=h+g*(t[n]-p),m(e,c),L(e),t.stopPropagation(),t.preventDefault()}function y(){v(e,c),e[u].classList.remove(f.clicking),e.event.unbind(e.ownerDocument,"mousemove",_)}function b(t,a){h=d[l],a&&t.touches&&(t[n]=t.touches[0].pageY),p=t[n],g=(e[r]-e[i])/(e[o]-e[s]),a?e.event.bind(e.ownerDocument,"touchmove",_):(e.event.bind(e.ownerDocument,"mousemove",_),e.event.once(e.ownerDocument,"mouseup",y),t.preventDefault()),e[u].classList.add(f.clicking),t.stopPropagation()}e.event.bind(e[a],"mousedown",(function(e){b(e)})),e.event.bind(e[a],"touchstart",(function(e){b(e,!0)}))}var O={"click-rail":function(e){e.element,e.event.bind(e.scrollbarY,"mousedown",(function(e){return e.stopPropagation()})),e.event.bind(e.scrollbarYRail,"mousedown",(function(t){var i=t.pageY-window.pageYOffset-e.scrollbarYRail.getBoundingClientRect().top>e.scrollbarYTop?1:-1;e.element.scrollTop+=i*e.containerHeight,L(e),t.stopPropagation()})),e.event.bind(e.scrollbarX,"mousedown",(function(e){return e.stopPropagation()})),e.event.bind(e.scrollbarXRail,"mousedown",(function(t){var i=t.pageX-window.pageXOffset-e.scrollbarXRail.getBoundingClientRect().left>e.scrollbarXLeft?1:-1;e.element.scrollLeft+=i*e.containerWidth,L(e),t.stopPropagation()}))},"drag-thumb":function(e){A(e,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),A(e,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])},keyboard:function(e){var t=e.element;e.event.bind(e.ownerDocument,"keydown",(function(i){if(!(i.isDefaultPrevented&&i.isDefaultPrevented()||i.defaultPrevented)&&(s(t,":hover")||s(e.scrollbarX,":focus")||s(e.scrollbarY,":focus"))){var r,n=document.activeElement?document.activeElement:e.ownerDocument.activeElement;if(n){if("IFRAME"===n.tagName)n=n.contentDocument.activeElement;else for(;n.shadowRoot;)n=n.shadowRoot.activeElement;if(s(r=n,"input,[contenteditable]")||s(r,"select,[contenteditable]")||s(r,"textarea,[contenteditable]")||s(r,"button,[contenteditable]"))return}var o=0,a=0;switch(i.which){case 37:o=i.metaKey?-e.contentWidth:i.altKey?-e.containerWidth:-30;break;case 38:a=i.metaKey?e.contentHeight:i.altKey?e.containerHeight:30;break;case 39:o=i.metaKey?e.contentWidth:i.altKey?e.containerWidth:30;break;case 40:a=i.metaKey?-e.contentHeight:i.altKey?-e.containerHeight:-30;break;case 32:a=i.shiftKey?e.containerHeight:-e.containerHeight;break;case 33:a=e.containerHeight;break;case 34:a=-e.containerHeight;break;case 36:a=e.contentHeight;break;case 35:a=-e.contentHeight;break;default:return}e.settings.suppressScrollX&&0!==o||e.settings.suppressScrollY&&0!==a||(t.scrollTop-=a,t.scrollLeft+=o,L(e),function(i,r){var n=Math.floor(t.scrollTop);if(0===i){if(!e.scrollbarYActive)return!1;if(0===n&&r>0||n>=e.contentHeight-e.containerHeight&&r<0)return!e.settings.wheelPropagation}var o=t.scrollLeft;if(0===r){if(!e.scrollbarXActive)return!1;if(0===o&&i<0||o>=e.contentWidth-e.containerWidth&&i>0)return!e.settings.wheelPropagation}return!0}(o,a)&&i.preventDefault())}}))},wheel:function(e){var t=e.element;function i(i){var n=function(e){var t=e.deltaX,i=-1*e.deltaY;return void 0!==t&&void 0!==i||(t=-1*e.wheelDeltaX/6,i=e.wheelDeltaY/6),e.deltaMode&&1===e.deltaMode&&(t*=10,i*=10),t!=t&&i!=i&&(t=0,i=e.wheelDelta),e.shiftKey?[-i,-t]:[t,i]}(i),o=n[0],a=n[1];if(!function(e,i,n){if(!E.isWebKit&&t.querySelector("select:focus"))return!0;if(!t.contains(e))return!1;for(var o=e;o&&o!==t;){if(o.classList.contains(h.consuming))return!0;var a=r(o);if(n&&a.overflowY.match(/(scroll|auto)/)){var s=o.scrollHeight-o.clientHeight;if(s>0&&(o.scrollTop>0&&n<0||o.scrollTop<s&&n>0))return!0}if(i&&a.overflowX.match(/(scroll|auto)/)){var l=o.scrollWidth-o.clientWidth;if(l>0&&(o.scrollLeft>0&&i<0||o.scrollLeft<l&&i>0))return!0}o=o.parentNode}return!1}(i.target,o,a)){var s=!1;e.settings.useBothWheelAxes?e.scrollbarYActive&&!e.scrollbarXActive?(a?t.scrollTop-=a*e.settings.wheelSpeed:t.scrollTop+=o*e.settings.wheelSpeed,s=!0):e.scrollbarXActive&&!e.scrollbarYActive&&(o?t.scrollLeft+=o*e.settings.wheelSpeed:t.scrollLeft-=a*e.settings.wheelSpeed,s=!0):(t.scrollTop-=a*e.settings.wheelSpeed,t.scrollLeft+=o*e.settings.wheelSpeed),L(e),(s=s||function(i,r){var n=Math.floor(t.scrollTop),o=0===t.scrollTop,a=n+t.offsetHeight===t.scrollHeight,s=0===t.scrollLeft,l=t.scrollLeft+t.offsetWidth===t.scrollWidth;return!(Math.abs(r)>Math.abs(i)?o||a:s||l)||!e.settings.wheelPropagation}(o,a))&&!i.ctrlKey&&(i.stopPropagation(),i.preventDefault())}}void 0!==window.onwheel?e.event.bind(t,"wheel",i):void 0!==window.onmousewheel&&e.event.bind(t,"mousewheel",i)},touch:function(e){if(E.supportsTouch||E.supportsIePointer){var t=e.element,i={},n=0,o={},a=null;E.supportsTouch?(e.event.bind(t,"touchstart",u),e.event.bind(t,"touchmove",d),e.event.bind(t,"touchend",f)):E.supportsIePointer&&(window.PointerEvent?(e.event.bind(t,"pointerdown",u),e.event.bind(t,"pointermove",d),e.event.bind(t,"pointerup",f)):window.MSPointerEvent&&(e.event.bind(t,"MSPointerDown",u),e.event.bind(t,"MSPointerMove",d),e.event.bind(t,"MSPointerUp",f)))}function s(i,r){t.scrollTop-=r,t.scrollLeft-=i,L(e)}function l(e){return e.targetTouches?e.targetTouches[0]:e}function c(e){return(!e.pointerType||"pen"!==e.pointerType||0!==e.buttons)&&(!(!e.targetTouches||1!==e.targetTouches.length)||!(!e.pointerType||"mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE))}function u(e){if(c(e)){var t=l(e);i.pageX=t.pageX,i.pageY=t.pageY,n=(new Date).getTime(),null!==a&&clearInterval(a)}}function d(a){if(c(a)){var u=l(a),d={pageX:u.pageX,pageY:u.pageY},f=d.pageX-i.pageX,p=d.pageY-i.pageY;if(function(e,i,n){if(!t.contains(e))return!1;for(var o=e;o&&o!==t;){if(o.classList.contains(h.consuming))return!0;var a=r(o);if(n&&a.overflowY.match(/(scroll|auto)/)){var s=o.scrollHeight-o.clientHeight;if(s>0&&(o.scrollTop>0&&n<0||o.scrollTop<s&&n>0))return!0}if(i&&a.overflowX.match(/(scroll|auto)/)){var l=o.scrollWidth-o.clientWidth;if(l>0&&(o.scrollLeft>0&&i<0||o.scrollLeft<l&&i>0))return!0}o=o.parentNode}return!1}(a.target,f,p))return;s(f,p),i=d;var m=(new Date).getTime(),v=m-n;v>0&&(o.x=f/v,o.y=p/v,n=m),function(i,r){var n=Math.floor(t.scrollTop),o=t.scrollLeft,a=Math.abs(i),s=Math.abs(r);if(s>a){if(r<0&&n===e.contentHeight-e.containerHeight||r>0&&0===n)return 0===window.scrollY&&r>0&&E.isChrome}else if(a>s&&(i<0&&o===e.contentWidth-e.containerWidth||i>0&&0===o))return!0;return!0}(f,p)&&a.preventDefault()}}function f(){e.settings.swipeEasing&&(clearInterval(a),a=setInterval((function(){e.isInitialized?clearInterval(a):o.x||o.y?Math.abs(o.x)<.01&&Math.abs(o.y)<.01?clearInterval(a):(s(30*o.x,30*o.y),o.x*=.8,o.y*=.8):clearInterval(a)}),10))}}},I=function(e,t){var i=this;if(void 0===t&&(t={}),"string"==typeof e&&(e=document.querySelector(e)),!e||!e.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");for(var a in this.element=e,e.classList.add(u),this.settings={handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1},t)this.settings[a]=t[a];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var s,l,c=function(){return e.classList.add(f.focus)},p=function(){return e.classList.remove(f.focus)};this.isRtl="rtl"===r(e).direction,!0===this.isRtl&&e.classList.add(d),this.isNegativeScroll=(l=e.scrollLeft,e.scrollLeft=-1,s=e.scrollLeft<0,e.scrollLeft=l,s),this.negativeScrollAdjustment=this.isNegativeScroll?e.scrollWidth-e.clientWidth:0,this.event=new y,this.ownerDocument=e.ownerDocument||document,this.scrollbarXRail=o(h.rail("x")),e.appendChild(this.scrollbarXRail),this.scrollbarX=o(h.thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",c),this.event.bind(this.scrollbarX,"blur",p),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var m=r(this.scrollbarXRail);this.scrollbarXBottom=parseInt(m.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=w(m.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=w(m.borderLeftWidth)+w(m.borderRightWidth),n(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=w(m.marginLeft)+w(m.marginRight),n(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=o(h.rail("y")),e.appendChild(this.scrollbarYRail),this.scrollbarY=o(h.thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",c),this.event.bind(this.scrollbarY,"blur",p),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var v=r(this.scrollbarYRail);this.scrollbarYRight=parseInt(v.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=w(v.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?function(e){var t=r(e);return w(t.width)+w(t.paddingLeft)+w(t.paddingRight)+w(t.borderLeftWidth)+w(t.borderRightWidth)}(this.scrollbarY):null,this.railBorderYWidth=w(v.borderTopWidth)+w(v.borderBottomWidth),n(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=w(v.marginTop)+w(v.marginBottom),n(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:e.scrollLeft<=0?"start":e.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:e.scrollTop<=0?"start":e.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach((function(e){return O[e](i)})),this.lastScrollTop=Math.floor(e.scrollTop),this.lastScrollLeft=e.scrollLeft,this.event.bind(this.element,"scroll",(function(e){return i.onScroll(e)})),L(this)};I.prototype.update=function(){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,n(this.scrollbarXRail,{display:"block"}),n(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=w(r(this.scrollbarXRail).marginLeft)+w(r(this.scrollbarXRail).marginRight),this.railYMarginHeight=w(r(this.scrollbarYRail).marginTop)+w(r(this.scrollbarYRail).marginBottom),n(this.scrollbarXRail,{display:"none"}),n(this.scrollbarYRail,{display:"none"}),L(this),T(this,"top",0,!1,!0),T(this,"left",0,!1,!0),n(this.scrollbarXRail,{display:""}),n(this.scrollbarYRail,{display:""}))},I.prototype.onScroll=function(e){this.isAlive&&(L(this),T(this,"top",this.element.scrollTop-this.lastScrollTop),T(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)},I.prototype.destroy=function(){this.isAlive&&(this.event.unbindAll(),l(this.scrollbarX),l(this.scrollbarY),l(this.scrollbarXRail),l(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},I.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter((function(e){return!e.match(/^ps([-_].+|)$/)})).join(" ")},t.a=I},32:function(e,t,i){"use strict";var r={kty:"RSA",n:"t5P2Nmmm7TCeGMx4YKXP-lhdeKpTDIGtqPcgI8CtkKPrsCz51RsD9nstDkSQJycx4Jwbepu2J14OqDYYAU_JcnJTxoDOD2ixk9HlqPkeYj2U7LKfANFnLwXZ_Ug1EjYH6iN6lM_NSbXwNkgWksZvBcADfpjsSAD01TV89Xw-3gU",e:"AQAB"};t.a=new class{constructor(){}verify(e){var t=e.split("."),i=t[0],n=t[1],o=t[2];return window.crypto.subtle.importKey("jwk",r,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["verify"]).then(e=>window.crypto.subtle.verify({name:"RSASSA-PKCS1-v1_5"},e,this._base64UrlToUint8Array(o),this._stringToArrayBuffer(i+"."+n))).then(e=>{var t=this.parsePayload(n);return null===t?Promise.reject("Cannot parse JWT"):{data:t,valid:e}})}shouldHideWidget(e,t){return new Promise(i=>this.verify(e).then(e=>{e.valid&&e.data&&this.checkURLPattern(e.data.host,t)&&this.checkTime(e.data.exp,e.data.iat)?i(!0):i(!1)}).catch(e=>{console.error(e),i(!1)}))}checkURLPattern(e,t){var i=t.replace("www.","");if(i===e)return!0;var r=new RegExp("^"+e.replace("*.","(?:\\w+\\.)*")+"$");return!!i.match(r)}checkTime(e,t){var i=Date.now();return 1e3*e>i&&1e3*t<=i}parsePayload(e){var t;try{t=JSON.parse(this._base64UrlToString(e))}catch(e){return null}return t}_stringToBase64Url(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}_base64UrlToString(e){return atob(this._base64UrlToBase64(e))}_base64ToBase64Url(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}_base64UrlToBase64(e){return(e+"===".slice((e.length+3)%4)).replace(/-/g,"+").replace(/_/g,"/")}_base64UrlToUint8Array(e){return this._base64ToUint8Array(this._base64UrlToBase64(e))}_stringToArrayBuffer(e){for(var t=new ArrayBuffer(e.length),i=new Uint8Array(t),r=0,n=e.length;r<n;r++)i[r]=e.charCodeAt(r);return t}_base64ToUint8Array(e){var t=atob(e).split("").map((function(e){return e.charCodeAt(0)}));return new Uint8Array(t)}}},33:function(e,t,i){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i=function(e,t){var i=e[1]||"",r=e[3];if(!r)return i;if(t&&"function"==typeof btoa){var n=(a=r,s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(l," */")),o=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")}));return[i].concat(o).concat([n]).join("\n")}var a,s,l;return[i].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(i,"}"):i})).join("")},t.i=function(e,i,r){"string"==typeof e&&(e=[[null,e,""]]);var n={};if(r)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(n[a]=!0)}for(var s=0;s<e.length;s++){var l=[].concat(e[s]);r&&n[l[0]]||(i&&(l[2]?l[2]="".concat(i," and ").concat(l[2]):l[2]=i),t.push(l))}},t}},35:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isAsyncIterable=t.isAsyncGenerator=t.isAsync=void 0;var r,n=i(96),o=(r=n)&&r.__esModule?r:{default:r};function a(e){return"AsyncFunction"===e[Symbol.toStringTag]}t.default=function(e){if("function"!=typeof e)throw new Error("expected a function");return a(e)?(0,o.default)(e):e},t.isAsync=a,t.isAsyncGenerator=function(e){return"AsyncGenerator"===e[Symbol.toStringTag]},t.isAsyncIterable=function(e){return"function"==typeof e[Symbol.asyncIterator]}},4:function(e,t,i){"use strict";var r=i(8);class n{constructor(){n.QL_HIGHEST="Highest",n.QL_HIGH="High",n.QL_MEDIUM="Medium",n.QL_LOW="Low",n.QL_VIDEO_ULTRAHD="Ultra HD",n.QL_VIDEO_FULLHD="Full HD",n.QL_VIDEO_HD="HD",n.QL_VIDEO_STANDARD="Standard",n.QL_VIDEO_MEDIUM="Medium",n.QL_VIDEO_SMALL="Small",n.QL_VIDEO_MOBILE="Mobile",this.QUALITY_TYPES={},this.QUALITY_TYPES[n.QL_VIDEO_ULTRAHD]={quality:n.QL_HIGH,qualityIndex:8,size:3072,videoTitle:"Super HD"},this.QUALITY_TYPES["4K"]=this.QUALITY_TYPES[n.QL_VIDEO_ULTRAHD],this.QUALITY_TYPES["4K UHD"]=this.QUALITY_TYPES[n.QL_VIDEO_ULTRAHD],this.QUALITY_TYPES[n.QL_VIDEO_ULTRAHD]={quality:n.QL_HIGH,qualityIndex:7,size:2160,videoTitle:"Ultra HD"},this.QUALITY_TYPES[n.QL_VIDEO_ULTRAHD]={quality:n.QL_HIGH,qualityIndex:6,size:1440,videoTitle:"Quad HD"},this.QUALITY_TYPES["Quad HD"]=this.QUALITY_TYPES[n.QL_VIDEO_ULTRAHD],this.QUALITY_TYPES[n.QL_VIDEO_FULLHD]={quality:n.QL_HIGH,qualityIndex:5,size:1080,videoTitle:"Full HD",audioTitle:"High",vimeoQuality:"1080p",zingTag:["1080p","label1080"],dailymotionQuality:"1080p",clipvnQuality:"5"},this.QUALITY_TYPES[n.QL_HIGH]=this.QUALITY_TYPES[n.QL_VIDEO_FULLHD],this.QUALITY_TYPES[n.QL_HIGHEST]=Object.assign({},this.QUALITY_TYPES[n.QL_VIDEO_FULLHD]),this.QUALITY_TYPES[n.QL_HIGHEST].qualityIndex+=.01,this.QUALITY_TYPES[n.QL_VIDEO_HD]={quality:n.QL_HIGH,qualityIndex:4,size:720,videoTitle:"HD",audioTitle:"High",zingTag:["720p","label720"],vimeoQuality:"720p",dailymotionQuality:["hd","720p"],facebookQuality:["hd_src","hd_src_no_ratelimit"],JWQuality:"highquality",clipvnQuality:"4"},this.QUALITY_TYPES[n.QL_VIDEO_STANDARD]={quality:n.QL_MEDIUM,qualityIndex:3,size:480,videoTitle:"Standard",audioTitle:"Standard",zingTag:["480p"],dailymotionQuality:"480p",vimeoQuality:"480p",facebookQuality:["sd_src","sd_src_no_ratelimit"],JWQuality:"location",clipvnQuality:"3"},this.QUALITY_TYPES[n.QL_VIDEO_MEDIUM]={quality:n.QL_MEDIUM,qualityIndex:2,size:360,videoTitle:"Medium",audioTitle:"Medium",vimeoQuality:"360p",dailymotionQuality:"380p",zingTag:["source","360p"],JWQuality:"lowquality",clipvnQuality:"2"},this.QUALITY_TYPES[n.QL_VIDEO_SMALL]={quality:n.QL_LOW,qualityIndex:1,size:240,altSizes:[270],videoTitle:"Small",audioTitle:"Low",dailymotionQuality:"240p",vimeoQuality:"270p",zingTag:["f","f240"],clipvnQuality:"1"},this.QUALITY_TYPES[n.QL_LOW]=this.QUALITY_TYPES[n.QL_VIDEO_SMALL],this.QUALITY_TYPES[n.QL_VIDEO_MOBILE]={quality:n.QL_LOW,qualityIndex:0,size:144,altSizes:[180],videoTitle:"Mobile",audioTitle:"Low",dailymotionQuality:"144p",vimeoQuality:"",clipvnQuality:"0"},this.PREFERRED_QUALITY_INDEX={},this.PREFERRED_QUALITY_INDEX[n.QL_HIGH]=this.QUALITY_TYPES[n.QL_VIDEO_ULTRAHD].qualityIndex,this.PREFERRED_QUALITY_INDEX[n.QL_MEDIUM]=this.QUALITY_TYPES[n.QL_VIDEO_STANDARD].qualityIndex,this.PREFERRED_QUALITY_INDEX[n.QL_LOW]=this.QUALITY_TYPES[n.QL_VIDEO_SMALL].qualityIndex,this.DEFAULT_QUALITY_LEVEL=n.QL_HIGH,this.QUALITY_LEVELS=[n.QL_HIGH,n.QL_MEDIUM,n.QL_LOW],this.VIDEO_QUALITY_LEVELS=[n.QL_VIDEO_ULTRAHD,n.QL_VIDEO_FULLHD,n.QL_VIDEO_HD,n.QL_VIDEO_STANDARD,n.QL_VIDEO_MEDIUM,n.QL_VIDEO_SMALL,n.QL_VIDEO_MOBILE],this.DEFAULT_QUALITY_TYPE=n.QL_VIDEO_STANDARD}getFacebookQuality(e){return this._getVideoQuality("facebookQuality",e).videoTitle}getDailymotionQuality(e){return this._getVideoQuality("dailymotionQuality",e).videoTitle}getZingVideoQuality(e){return this._getVideoQuality("zingTag",e).videoTitle}getZingAudioQuality(e){return this._getVideoQuality("zingTag",e).audioTitle}getVimeoQuality(e){return this._getVideoQuality("vimeoQuality",e).videoTitle}getClipvnQuality(e){return this._getVideoQuality("clipvnQuality",e).videoTitle}getJWQuality(e){return this._getVideoQuality("JWQuality",e).videoTitle}getQualityBySize(e){return this._getVideoQuality("size",e).videoTitle}getSizeByQuality(e){return(this.QUALITY_TYPES[e]||{}).size||0}_getVideoQuality(e,t,i){for(var r in this.QUALITY_TYPES){var n=this.QUALITY_TYPES[r][e];if(Array.isArray(n)||(n=[n]),-1!==n.indexOf(t))return this.QUALITY_TYPES[r]}return i?null:this.QUALITY_TYPES[this.DEFAULT_QUALITY_TYPE]}_getTypeByQualityType(e){for(var t in this.QUALITY_TYPES)if(e===t||e===this.QUALITY_TYPES[t].videoTitle||e===this.QUALITY_TYPES[t].audioTitle)return this.QUALITY_TYPES[t];return this.QUALITY_TYPES[this.DEFAULT_QUALITY_TYPE]}_calculateWeight(e,t){var i=r.a[e.get("type")].extensions_weight,n=i.indexOf(e.get("ext")),o=this._getTypeByQualityType(e.get("quality")).qualityIndex;return n/i.length+Math.abs(t-o)/7}getQualityLevelByType(e){return Object.keys(this.QUALITY_TYPES).indexOf(this._getTypeByQualityType(e).videoTitle)}getVideoQualityIndex(e){return this.VIDEO_QUALITY_LEVELS.concat().reverse().indexOf(e)}getOneClickQualityIndex(e){return this.QUALITY_LEVELS.concat().reverse().indexOf(e)}getQualityLevelByQualityType(e){return this._getTypeByQualityType(e).quality}getQualityIndexByVideoTitleQuality(e){return void 0!==this.QUALITY_TYPES[e]?this.QUALITY_TYPES[e].qualityIndex:this.getOneClickQualityIndex(e)}getQualityNameByResolution(e){e=parseInt(e);var t=Object.values(this.QUALITY_TYPES),i=t.find(t=>t.size===e||t.altSizes&&t.altSizes.includes(e));if(i)return i.videoTitle;var r=t.find(t=>t.size<e);return r?r.videoTitle:null}chooseBestDownload(e,t,i){var r=e.length;if(i)for(var n=i.split("/").filter(e=>e).length>2,o=0;o<r;++o){var a=e[o],s=a.extQuality();if(s===i)return a;if(n){var l=i.replace(/(.+)\/.+/,"$1");if(s.replace(/(.+)\/.+/,"$1")===l)return a}}t=t||this.DEFAULT_QUALITY_LEVEL;var c=e.filter(e=>"video"===e.type);c&&c.length||(c=e),r=c.length;for(var u=this.PREFERRED_QUALITY_INDEX[t],d=1e3,h=-1,f=0;f<r;++f){var p=c[f],m=this._calculateWeight(p,u);d>m&&(d=m,h=f)}return c["high"===t.toLocaleLowerCase()?0:h]}}t.a=new n},43:function(e,t,i){"use strict";(function(e,i){Object.defineProperty(t,"__esModule",{value:!0}),t.fallback=a,t.wrap=s;var r,n=t.hasSetImmediate="function"==typeof e&&e,o=t.hasNextTick="object"==typeof i&&"function"==typeof i.nextTick;function a(e){setTimeout(e,0)}function s(e){return function(t){for(var i=arguments.length,r=new Array(i>1?i-1:0),n=1;n<i;n++)r[n-1]=arguments[n];return e(()=>t(...r))}}r=n?e:o?i.nextTick:a,t.default=s(r)}).call(this,i(44).setImmediate,i(13))},44:function(e,t,i){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,n=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(n.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new o(n.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},i(94),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,i(11))},61:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var i=(0,n.default)(e);return(0,r.default)((e,t)=>{i(e[0],t)},t,1)};var r=o(i(92)),n=o(i(35));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},7:function(e,t,i){"use strict";function r(e){return e.split(".").map(e=>parseInt(e))}function n(e,t){if(!e)return!1;var i,n=t.split(" ");if(2!==n.length)return!1;switch(n[0]){case">":i=1;break;case">=":i=0}var o,a,s,l=r(n[1]);return a=l,(0!==(s=(o=e)[0]-a[0])?s:0!=(s=o[1]-a[1])?s:0!=(s=o[2]-a[2])?s:s=o[3]-a[3])>=i}var o=function(e){var t=e.match(/Chrome\/([\d.]+)/);t&&t[1]&&(t=r(t[1]));var i=n.bind(null,t);return{YT:{mp4:!0,m4a:!0,webm:i(">= 39.0.2171.103")},M3U8:i("> 62.4.3202.180"),SOUND_ONLY:i("> 55.4.2883.114")||!!t&&50===t[0]&&i("> 50.3.2661.150"),SUBTITLES:i("> 55.4.2883.114")||!!t&&50===t[0]&&i("> 50.3.2661.150"),PLAY_NOW_BOTTOM_TOOLTIP:i("> 55.4.2883.126"),IS_ADS_PIP_PARAMS:i("> 60.4.3112.120"),MEDIA_WEB_REQUEST:i(">= 58.4.3029.118"),SERP_ADD_STRUCTURES:i(">= 62.4.3202.176"),SERP_ADD_INNER_STRUCTURES:i(">= 64.4.3282.200"),MOBILE_TRANSFER_PANEL:!0,CUSTOM_METRICS_JSON:i(">= 64.4.3282.236"),DASH_DOWNLOAD:i(">= 72.0.3626.130"),WEB_REQUEST_EXTRA_HEADERS:i(">= 72.0.0.0"),NATIVE_PIP:i(">= 74.0.0.0")}}(window.navigator.userAgent);t.a=o},8:function(e,t,i){"use strict";i.d(t,"a",(function(){return r})),i.d(t,"e",(function(){return o})),i.d(t,"d",(function(){return a})),i.d(t,"b",(function(){return s})),i.d(t,"c",(function(){return n}));var r={audio:{title:"Audio",rgxp:/audio/i,extensions:["mp3","flac","m4a","wma","ogg","wav","aif","mid","opus"],extensions_weight:["mp3","flac","m4a","wma","ogg","wav","aif","mid","opus"],ctype2extension:{midi:"mid",mp4:"m4a",m4a:"m4a",mpeg:"mp3",mpeg3:"mp3",wav:"wav",aiff:"aif",opus:"opus"}},video:{title:"Video",rgxp:/video/i,extensions:["mp4","mpeg4","mpg","mpeg","m4v","avi","divx","mov","wmv","movie","asf","webm","flv","3gp","m3u8","m3u","m4s"],extensions_weight:["mp4","mpeg4","mpg","mpeg","m4v","avi","divx","mov","wmv","movie","asf","webm","flv","m3u8","m3u","3gp"],ctype2extension:{mpeg:"mp4",mp4:"mp4",m4v:"mp4","3gpp":"3gp",flv:"flv",quicktime:"mov",msvideo:"avi","ms-wmv":"wmv","ms-asf":"asf"}},subtitles:{title:"Subtitles",rgxp:/subtitles/i,extensions:["yt_srt"],extensions_weight:["yt_srt"]}},n=["video","audio","subtitles"];function o(e){return-1!==["m3u8","m3u","hls"].indexOf(e)}var a=[/^(.+\.)?youtube.com/i,/^(.+\.)?zing.vn/i,/^(.+\.)?nhaccuatui.com/i,/^(.+\.)?vimeo.com/i,/^(.+\.)?clip.vn/i,/vietgiaitri\.com/i,/^(.+\.)?soundcloud\.com/i,/^(.+\.)?kenh14\.vn/i,/^(.+\.)?xvideos\.com/i,/^(.+\.)?xnxx\.com/i,/^(.+\.)?vtv\.vn/i,/^(.+\.)?vtvgiaitri\.vn/i,/^(.+\.)?afamily\.vn/i,/^tuoitre\.vn/i,/^(.+\.)?facebook.com/i,/^(.+\.)?gamek\.vn/i],s=[/^(.+\.)?nixcdn\.com/im,/^(.+\.)?vcmedia\.vn/i,/^(.+\.)?kenhhd\.tv/i]},9:function(e,t,i){"use strict";var r=["/pre-roll/","/preroll/","/ads/","||histats.com/","||adnetwork.vn/","||doubleclick.net/","||admicro/","||adnet.vn/","||ds-vn.serving-sys.com/","||lavanetwork.net/","||video.sgame.vn:8080/","blueseed.tv","||new-cdn.blueseed/","||vcmedia.vn/","||innity.net/","||serving-sys.com/","||ambientplatform.vn/","||gvt1.com/","||comment.dantri.com.vn/","||adsquangcao.com/","||facebook.com/connect","||facebook.com/plugins/likebox.php","||facebook.com/plugins/like.php","||cdn.cloudfrale.com","||www990.o0-2.com","||facebook.com/plugins/comments.php","||facebook.com/connect/xd_arbiter","||facebook.com/plugins/page.php","||facebook.com/v*/plugins/*","||googlesyndication.com","||qccoccocmedia.vn/","||coccoc.com/webhp##*","||meme.vn/##*","||ads.phimnhanh.net/","||adsquangcao.com/","||edgecastcdn.net/","||qccoccocmedia.vn/","||dev-qccoccocmedia.vn/","||media.adnetwork.vn/","||www.google.com/maps/embed","@@||vhosting.vcmedia.vn/","@@||vcplayer.vcmedia.vn/","@@||vscc.hosting.vcmedia.vn/","@@||vscc.dantri.hosting.vcmedia.vn/","@@||vscc-kenh14-hosting.vcmedia.vn/","@@||hls.vcmedia.vn/","##.adsbygoogle iframe","###adcontainer *","##.ad-container *",'##.facebook-top *, .fb-like-box *, iframe[title^="fb:like_box"]','##iframe[title^="fb:page"]','##[id^="AbdVideoPreroll"]','##[data^="player-ads"]','##[id^="google_ads_iframe_"]',"###pyv-iframe","##.box-ads *","##.ads *","##.video-ads *",'##iframe[onload*="google_iframe_oncopy"]','||youtube.com##[id*="sidebar-ads"] *',"||bit.ly/",'##[name*="zeroclipboard"],[data*="zeroclipboard"]',"||xemphimso.com/##.right-menu *","###AbdPopupAd_left iframe",'||phim.hayhd.vn/###adsdiv iframe,div[class*="ads"] iframe',"||nhaccuatui.com/##.box_right *,#banner-container-bottom *","||adxpansion.com/","||porn99.net##.content-right *","||thuvienanh.org/","||xemvtv.net/###ads-slider *",'||yeucahat.com/##div[id^="adscont"] *',"||sexad.net/","||ads.sex.com/",'||redtube.com/##div[id^="as_"] *','##object[id^="abdPopup"]',"||adnetwork.vn/",'##object[data*=".adnetwork.vn/"]',"||phim3s.net/##.ad_location *","||xhamster.com/###plAds *,.adVideo *,#adBottom *","||exoclick.com/","||trafficstars.com/","||traffichaus.com/","||trafficjunky.net/","||vivo.vn##.content-right-sidebar *",'||dailymotion.com##div[id^="mc_"] *',"||pornhub.com/###pb_block *,.right-ads *",'||xemphimso.com/##[id^="ebAd"],#eyeDiv *','||vivo.vn/##div[class*="ads"] *',"||phim.hayhd.vn/###block-resize-sidebar *","||phim.hayhd.vn/##.container .col-sm-8+.col-sm-4 *","||pornhub.com,tube8.com,youporn.com,redtube.com###pb_template *","||nhac.vui.vn/##.colRight *","||tube8.com/##.blockHtml *","||vkool.net/##.float-ck *,.col-left *,#sidebar *, #boxes *","||comment.vietid.net/comments","||dantri.com.vn/comment","||dantri.com.vn/##.fr.w510 *",'||vnexpress.net/##[id*="_BANNER_"] *, .block_banner *','||24h.com.vn/##[id*="ADS_"] *',"||ngoisao.net/###right *","||nhaccuatui.com/##.coverImage *","||phimsexporn.com/##.balloons-ck *","/twitter\\.com\\/.*cards\\/.*cardname=poll/","##.twitter-tweet.twitter-tweet-rendered",'##[id^="preroll"] *','##[id^="preroll-player_swf_0"]','##[class^="preroll"] *',"||adpoints.media","||media.yomedia.vn","goldendatagroup.*","||stream.nixcdn.com","||video-juice.com","##.jw-flag-ads > .jw-media > .jw-video","||zing.vn###highlight video","*.danet.vn/html/embed","vividobj.*.cdnviet.com","vcdn.media.innity.net","ds-vn.serving-sys.com","###video-anchor_ad iframe","###pagelet_page_cover video","##.jw-flag-ads-googleima.jw-flag-ads *",/https?:\/\/www\.phimmoi\.net\/resource\/video\/blank\d+\.mp4/,"ads-pd.nbcuni.com",/adtool-premium\/creatives/,"contentabc.com","criteo.net","||coccoc.com/search##video[data-savior-token]","||force.com##iframe",'||drive.google.com##[role="main"] iframe:not([id*="video-player"])',"||zingmp3.vn##.Player.--z-video-ads .Player-content"],n=["||mail.google.com/","||docs.google.com/","||dropbox.com/","||meme.vn/"],o=["||fptplay.net/##.hls-playback embed","||pubvn.tv/bar/threads/##iframe#player","||www.24h.com.vn/###player_video_kieu_moi iframe",'||facebook.com/##iframe[src^="https://attachment.fbsbx.com/external_iframe.php"]',"||coccoc.com/search##video[data-savior-token]"],a=["||mail.google.com/","||docs.google.com/","||drive.google.com/","||dropbox.com/","||fptplay.net/livetv","||twitch.tv","@@||twitch.tv/videos/","||talktv.vn","@@||talktv.vn/video/","garena.live","www.dkn.tv","xemphimso.com"],s=["/.*dailymotion.*\\/frag\\(\\d+\\)\\//",/https?:\/\/(!=redirector)\.googlevideo\.com\/videoplayback?.+&source=youtube.+/,"||vimeo.com/","||vimeocdn.com/","||clip.vn/","||subs.xemphimonlines.com/","||dailymotion.com/","||dmcdn.net/","||nhacrap.tv/","||nixcdn.com/","||zdn.vn/","/fptplay\\.net\\/.*?seg\\d*-frag\\d*/","/hlscache\\.fptplay\\.net(?:\\.vn)?\\//","/49ef4358-e34d-484f-a18e-495cd9fe3817","/75247339-7897-437d-9627-55b1a1528700","http://www.phimmoi.net/resource/video/blank.mp4","http://xemvtv.net/kaka/blank2.mp4",/https?:\/\/.+\.gvt1\.com\/videoplayback\/.+/,/https?:\/\/.+\.2mdn\.net\/videoplayback\/.+/,/.+RomanoHangoutNew15s7\.mp4$/,/blank_video/,/media\/beacon\.webm/,/https:\/\/cdn2?\.cache\.vn\/skin\/.+\.mp4/];t.a=new class{constructor(){this.extra={},this._loadRules(r),this._loadRules(n,"pip"),this._loadRules(o,"pip-allowfullscreen-false"),this._loadRules(a,"download"),this._loadRules(s,"requests")}check(e,t){var i=t?this.extra[t]:this.rules;return this._testRules(e,i)}_loadRules(e,t){var i=this._parseFilters(e);t?this.extra[t]=i:this.rules=i}_testRules(e,t){if(!t)return!1;var i;if("string"==typeof e?i=e:(e.src||e.href)&&(i=e.src||e.href),i){for(var r=t.wlUrls.length,n=0;n<r;n++)if(t.wlUrls[n].test(i))return!1;r=t.blUrls.length;for(var o=0;o<r;o++)if(t.blUrls[o].test(i))return!0}if(!(e instanceof Node))return!1;for(var a=e.ownerDocument.location.href,s=0;s<t.wlCosmetics.length;s++){var l=t.wlCosmetics[s];if(("~"===l.domain[0]&&a.match(l.domain.substr(1))||a.match(l.domain))&&l.selectors.some(e.matches.bind(e)))return!1}for(var c=0;c<t.blCosmetics.length;c++){var u=t.blCosmetics[c];if(("~"===u.domain[0]&&a.match(u.domain.substr(1))||a.match(u.domain))&&u.selectors.some(e.matches.bind(e)))return!0}return!1}_convertWildcard(e){if(/^\/.*?\/$/.test(e)&&/[[\\(){}]/.test(e))return new RegExp(e.replace(/^\/|\/$/g,""),"i");var t=e.replace(/[.?+\\[{()]/g,e=>"\\"+e).replace(/\^/g,"[\\w\\d_.%-]").replace(/\*/g,".*").replace(/\|\|/g,"^\\w+://([\\d\\w-]+\\.)*").replace(/\|/g,"$");return new RegExp(t,"i")}_getParsingRegex(){if(this.regex)return this.regex;return this.regex=new RegExp("^\\s*(@@)?(/(?:[^/]|\\\\/)+/|(?:[^#$]+|#(?!#))+)?(?:(#@#|##)([^$]+))?(?:\\$(.*))?\\s*$","i"),this.regex}_parseFilters(e){var t=e;"string"==typeof t&&(t=t.split(/[\r\n]+/));for(var i={blUrls:[],wlUrls:[],blCosmetics:[],wlCosmetics:[]},r={"":{bl:[],wl:[]}},n=0;n<t.length;n++){var o=t[n];if(!/^\s*!|^\s*\[.*?\]\s*$/.test(o)){var a=this._getParsingRegex().exec(o);if(a){var s={whitelist:a[1],url:a[2],separator:a[3],selector:a[4],comment:a[5]};if(s.separator)for(var l=s.url?s.url.split(/,/):[""],c=void 0,u=0;u<l.length;u++)(c=l[u])in r||(r[c]={bl:[],wl:[]}),c=r[c],"#@#"===s.separator?(s.whiteList||r[""].wl.push(s.selector),c[s.whitelist?"bl":"wl"].push(s.selector)):c[s.whitelist?"wl":"bl"].push(s.selector);else{if(!s.url)continue;var d="@@"===s.whitelist?i.wlUrls:i.blUrls,h=this._convertWildcard(s.url);d.push(h)}}else console.warn("AdFilter: could not parse adblock rule: "+o)}}for(var f=Object.keys(r),p=0;p<f.length;p++){var m=f[p],v=r[m];v.bl.length&&i.blCosmetics.push({domain:this._convertWildcard(m),selectors:r[m].bl}),v.wl.length&&i.wlCosmetics.push({domain:this._convertWildcard(m),selectors:r[m].wl})}return i}}},92:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,i){if(null==t)t=1;else if(0===t)throw new RangeError("Concurrency must not be zero");var s=(0,a.default)(e),l=0,c=[],u={error:[],drain:[],saturated:[],unsaturated:[],empty:[]};function d(e,t){return e?t?void(u[e]=u[e].filter(e=>e!==t)):u[e]=[]:Object.keys(u).forEach(e=>u[e]=[])}function h(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];u[e].forEach(e=>e(...i))}var f=!1;function p(e,t,i,r){if(null!=r&&"function"!=typeof r)throw new Error("task callback must be a function");var o,a;function s(e){if(e)return i?a(e):o();for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(r.length<=1)return o(r[0]);o(r)}y.started=!0;var l={data:e,callback:i?s:r||s};if(t?y._tasks.unshift(l):y._tasks.push(l),f||(f=!0,(0,n.default)(()=>{f=!1,y.process()})),i||!r)return new Promise((e,t)=>{o=e,a=t})}function m(e){return function(t){l-=1;for(var i=arguments.length,r=new Array(i>1?i-1:0),n=1;n<i;n++)r[n-1]=arguments[n];for(var o=0,a=e.length;o<a;o++){var s=e[o],u=c.indexOf(s);0===u?c.shift():u>0&&c.splice(u,1),s.callback(t,...r),null!=t&&h("error",t,s.data)}l<=y.concurrency-y.buffer&&h("unsaturated"),y.idle()&&h("drain"),y.process()}}function v(e){return!(0!==e.length||!y.idle())&&((0,n.default)(()=>h("drain")),!0)}var g=e=>t=>{if(!t)return new Promise((t,i)=>{!function(e,t){u[e].push((function i(){d(e,i),t(...arguments)}))}(e,(e,r)=>{if(e)return i(e);t(r)})});d(e),function(e,t){u[e].push(t)}(e,t)},_=!1,y={_tasks:new o.default,[Symbol.iterator]:()=>regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(y._tasks[Symbol.iterator](),"t0",1);case 1:case"end":return e.stop()}}),e)}))(),concurrency:t,payload:i,buffer:t/4,started:!1,paused:!1,push(e,t){if(Array.isArray(e)){if(v(e))return;return e.map(e=>p(e,!1,!1,t))}return p(e,!1,!1,t)},pushAsync(e,t){if(Array.isArray(e)){if(v(e))return;return e.map(e=>p(e,!1,!0,t))}return p(e,!1,!0,t)},kill(){d(),y._tasks.empty()},unshift(e,t){if(Array.isArray(e)){if(v(e))return;return e.map(e=>p(e,!0,!1,t))}return p(e,!0,!1,t)},unshiftAsync(e,t){if(Array.isArray(e)){if(v(e))return;return e.map(e=>p(e,!0,!0,t))}return p(e,!0,!0,t)},remove(e){y._tasks.remove(e)},process(){if(!_){for(_=!0;!y.paused&&l<y.concurrency&&y._tasks.length;){var e=[],t=[],i=y._tasks.length;y.payload&&(i=Math.min(i,y.payload));for(var n=0;n<i;n++){var o=y._tasks.shift();e.push(o),c.push(o),t.push(o.data)}l+=1,0===y._tasks.length&&h("empty"),l===y.concurrency&&h("saturated");var a=(0,r.default)(m(e));s(t,a)}_=!1}},length:()=>y._tasks.length,running:()=>l,workersList:()=>c,idle:()=>y._tasks.length+l===0,pause(){y.paused=!0},resume(){!1!==y.paused&&(y.paused=!1,(0,n.default)(y.process))}};return Object.defineProperties(y,{saturated:{writable:!1,value:g("saturated")},unsaturated:{writable:!1,value:g("unsaturated")},empty:{writable:!1,value:g("empty")},drain:{writable:!1,value:g("drain")},error:{writable:!1,value:g("error")}}),y};var r=s(i(93)),n=s(i(43)),o=s(i(95)),a=s(i(35));function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},93:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){if(null===e)throw new Error("Callback was already called.");var t=e;e=null;for(var i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];t.apply(this,r)}},e.exports=t.default},94:function(e,t,i){(function(e,t){!function(e,i){"use strict";if(!e.setImmediate){var r,n,o,a,s,l=1,c={},u=!1,d=e.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(e);h=h&&h.setTimeout?h:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){p(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,i=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=i,t}}()?e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){p(e.data)},r=function(e){o.port2.postMessage(e)}):d&&"onreadystatechange"in d.createElement("script")?(n=d.documentElement,r=function(e){var t=d.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,n.removeChild(t),t=null},n.appendChild(t)}):r=function(e){setTimeout(p,0,e)}:(a="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&p(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),r=function(t){e.postMessage(a+t,"*")}),h.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),i=0;i<t.length;i++)t[i]=arguments[i+1];var n={callback:e,args:t};return c[l]=n,r(l),l++},h.clearImmediate=f}function f(e){delete c[e]}function p(e){if(u)setTimeout(p,0,e);else{var t=c[e];if(t){u=!0;try{!function(e){var t=e.callback,i=e.args;switch(i.length){case 0:t();break;case 1:t(i[0]);break;case 2:t(i[0],i[1]);break;case 3:t(i[0],i[1],i[2]);break;default:t.apply(void 0,i)}}(t)}finally{f(e),u=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,i(11),i(13))},95:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function r(e,t){e.length=1,e.head=e.tail=t}t.default=class{constructor(){this.head=this.tail=null,this.length=0}removeLink(e){return e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev,e.prev=e.next=null,this.length-=1,e}empty(){for(;this.head;)this.shift();return this}insertAfter(e,t){t.prev=e,t.next=e.next,e.next?e.next.prev=t:this.tail=t,e.next=t,this.length+=1}insertBefore(e,t){t.prev=e.prev,t.next=e,e.prev?e.prev.next=t:this.head=t,e.prev=t,this.length+=1}unshift(e){this.head?this.insertBefore(this.head,e):r(this,e)}push(e){this.tail?this.insertAfter(this.tail,e):r(this,e)}shift(){return this.head&&this.removeLink(this.head)}pop(){return this.tail&&this.removeLink(this.tail)}toArray(){return[...this]}[Symbol.iterator](){var e=this;return(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=e.head;case 1:if(!i){t.next=7;break}return t.next=4,i.data;case 4:i=i.next,t.next=1;break;case 7:case"end":return t.stop()}}),t)}))())}remove(e){for(var t=this.head;t;){var i=t.next;e(t)&&this.removeLink(t),t=i}return this}},e.exports=t.default},96:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((0,o.isAsync)(e))return function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];var n=i.pop(),o=e.apply(this,i);return s(o,n)};return(0,r.default)((function(t,i){var r;try{r=e.apply(this,t)}catch(e){return i(e)}if(r&&"function"==typeof r.then)return s(r,i);i(null,r)}))};var r=a(i(97)),n=a(i(43)),o=i(35);function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){return e.then(e=>{l(t,null,e)},e=>{l(t,e&&e.message?e:new Error(e))})}function l(e,t,i){try{e(t,i)}catch(e){(0,n.default)(e=>{throw e},e)}}e.exports=t.default},97:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];var n=i.pop();return e.call(this,i,n)}},e.exports=t.default}}]);